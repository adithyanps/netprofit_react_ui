(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){},141:function(e,t,a){e.exports=a(333)},146:function(e,t,a){},147:function(e,t,a){},170:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),s=(a(146),a(2)),o=a(3),i=a(5),u=a(4),d=a(6),p=(a(147),a(13)),m=a(9),E=a(130),h=a.n(E),f=h.a.create({baseURL:"http://localhost:8000/api/"}),g=f,b=function(e){return{type:"LOGIN_SUCCES",token:e}},v=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),localStorage.removeItem("userId"),{type:"LOGOUT"}},C=a(12),D=function(){return function(e){g.get("/user/me",{headers:{Authorization:"Token "+localStorage.getItem("token"),"X-Requested-With":"XMLHttpRequest"}}).then(function(t){var a=[];for(var n in t.data)a.push(Object(C.a)({},t.data[n]));console.log(t.data),e({type:"CURRENT_USER_SUCCESS",userData:t.data})}).catch(function(t){e(function(e){return{type:"CURRENT_USER_FAIL",error:e}}(t))})}},O=function(e){return{type:"CREATE_INVOICE_SUCCESS",invoiceData:e}},_=function(){return function(e){g.get("invoice/accountDefault/").then(function(t){var a=[];for(var n in t.data)a.push(Object(C.a)({},t.data[n]));e(function(e){return{type:"DEFAULT_ACCOUNT_SUCCESS",defaultAccount:e}}(a))}).catch(function(t){e(function(e){return{type:"DEFAULT_ACCOUNT_FAIL",error:e}}(t))})}},y=function(){return function(e){g.get("invoice/account/").then(function(t){var a=[];for(var n in t.data)a.push(Object(C.a)({},t.data[n]));e(function(e){return{type:"ACCOUNTS_SUCCESS",account:e}}(a))}).catch(function(t){e(function(e){return{type:"ACCOUNTS_FAIL",error:e}}(t))})}},S=function(e){return{type:"CREATE_CUSTOMER_RECIEPT_SUCCESS",recieptData:e}},A=function(e){return{type:"CREATE_EXPENSE_SUCCESS",expenseData:e}},N=function(e){return{type:"CREATE_PARTNER_SUCCESS",partnerData:e}},w=function(e){return{type:"CREATE_PRODUCT_SUCCESS",productData:e}},L=function(e){return{type:"GET_ALL_PRODUCT_CATEGORY_DATA",productCategoryDataList:e}},j=a(7),I=a(80),T=a.n(I),P=a(81),k=a.n(P),H=a(82),R=a.n(H),x=a(83),U=a.n(x),W=(a(170),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={userData:[]},a.topFunction=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.get("/user/me",{headers:{Authorization:"Token "+localStorage.getItem("token"),"X-Requested-With":"XMLHttpRequest"}}).then(function(t){e.setState({userData:t.data}),console.log(t.data)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return this.props.loginToken,r.a.createElement("div",{className:"homeBackground"},r.a.createElement("div",{className:"nav"},r.a.createElement("li",null,r.a.createElement("a",{className:"nav-link-th",href:"/home"},"NETPROFIT")),r.a.createElement("li",null,r.a.createElement("a",{className:"nav-link-t",href:"/sales"},"SALES")),r.a.createElement("li",null,r.a.createElement("a",{className:"nav-link-t",href:"/purchase"},"PURCHASE")),r.a.createElement("li",null,r.a.createElement("a",{className:"nav-link-t",href:"/accounts"},"ACCOUNTS")),r.a.createElement("li",null,r.a.createElement("a",{className:"nav-link-t",href:"/reports"},"REPORTS")),r.a.createElement("a",{href:"/settings"},"  ",r.a.createElement("img",{src:R.a})),r.a.createElement("img",{src:T.a}),r.a.createElement("img",{src:U.a}),r.a.createElement("div",{className:"dropdown",style:{float:"right"}},r.a.createElement("button",{className:"dropbtn"},r.a.createElement("img",{src:k.a,style:{fontsize:"30px",color:"green"}})),r.a.createElement("div",{className:"dropdown-content"},r.a.createElement(j.b,{to:"/logout",className:"nav-link"},"logout")))),r.a.createElement("div",{className:"idBox"},r.a.createElement("div",null,r.a.createElement("p",null,"id:",this.state.userData.email))),r.a.createElement("div",{className:"breadCrmbBox"}),r.a.createElement("div",null,this.props.children),r.a.createElement("div",{className:"footer"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{className:"footer-link-t",href:"/news"},"NEWS")),r.a.createElement("li",null,r.a.createElement("a",{className:"footer-link-t",href:"/sport"},"SPORT")),r.a.createElement("li",null,r.a.createElement("a",{className:"footer-link-t",href:"/wheather"},"WHEATHER")),r.a.createElement("li",null,r.a.createElement("a",{className:"footer-link-t",href:"/future"},"FUTURE"))),r.a.createElement("button",{onClick:this.topFunction},"top")))}}]),t}(n.Component));var M=Object(m.b)(function(e){return{loginToken:e.login.token}})(W),B=a(10),F=(a(175),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.submitLoginDataHandler=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};console.log(t),a.props.onLogin(a.state.email,a.state.password)},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.authRedirect=function(){if(a.props.loginToken)return r.a.createElement(p.a,{to:"/home"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){console.log(this.props.error);return this.props.loginToken&&r.a.createElement(p.a,{to:"/home"}),r.a.createElement("div",null,this.authRedirect(),r.a.createElement("div",{className:"SignInBox"},r.a.createElement("div",{className:"SignInBox2"},r.a.createElement("h1",null,"SignIn"),r.a.createElement("label",null,"User name/Email address"),r.a.createElement("input",{onChange:this.handleInputChange,type:"email",name:"email"}),r.a.createElement("br",null),r.a.createElement("label",null,"Password"),r.a.createElement("br",null),r.a.createElement("input",{onChange:this.handleInputChange,type:"password",name:"password"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.submitLoginDataHandler,className:"SignInButton"},"Sign In")),r.a.createElement("h2",null,"forget password?")))}}]),t}(n.Component)),V=Object(m.b)(function(e){return{loginToken:e.login.token,error:e.login.error}},function(e){return{onLogin:function(t,a){return e(function(e,t){return function(a){a({type:"LOGIN_START"});var n={email:e,password:t};console.log(n),g.post("/user/token/",n,{headers:{"Content-Type":"application/json"}}).then(function(e){var t=new Date,n=t.getTime(),r=new Date(n+5e7);t.setTime(r),console.log(r),console.log(e.data.token),console.log(e.data),localStorage.setItem("token",e.data.token),localStorage.setItem("expirationTime",r),a(b(e.data.token)),g.get("/user/me/",{headers:{Authorization:"Token "+localStorage.getItem("token"),"X-Requested-With":"XMLHttpRequest"}}).then(function(e){console.log(e.data),a({type:"GET_USER_CHOICE",user_choice:e.data.user_choice}),localStorage.setItem("userId",e.data.id)})}).catch(function(e){console.log(e),a(function(e){return{type:"LOGIN_FAIL",error:e}}(e.response.data))})}}(t,a))}}})(F),Y=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return r.a.createElement(p.a,{to:"/"})}}]),t}(n.Component),G=Object(m.b)(null,function(e){return{logout:function(t){return e(v())}}})(Y),J=(a(176),a(177),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"qcklnk"},r.a.createElement("h1",null,"Quicklinks"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/create-invoice"},"Create Invoice")),r.a.createElement("li",null,r.a.createElement("a",{href:"/invoice"},"Customer Receipt")),r.a.createElement("li",null,r.a.createElement("a",{href:"/invoice"},"Partner Ledger")),r.a.createElement("li",null,r.a.createElement("a",{href:"/invoice"},"Customer Balances")),r.a.createElement("li",null,r.a.createElement("a",{href:"/invoice"},"Customer Ageing Report")),r.a.createElement("li",null,r.a.createElement("a",{href:"/create-expense"},"Create Expense"))))}}]),t}(n.Component)),q=J,X=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){g.get("/user/create/").then(function(e){console.log(e.data)}),this.props.currentUser()}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"HomeRectangles"},r.a.createElement("h2",null,"sales")),r.a.createElement("div",{className:"HomeRectangles"},r.a.createElement("h2",null,"Purchase"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"HomeRectangles"},r.a.createElement("h2",null,"Customer Reciept")),r.a.createElement("div",{className:"HomeRectangles"},r.a.createElement("h2",null,"Bank/Cash Accounts")))),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),z=Object(m.b)(function(e){return console.log(e),{loginToken:e.login.token,user_choice:e.login.user_choice,currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(X),Q=(a(178),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"salesSideNav"},r.a.createElement("a",{href:"/sales"},"SALES"),r.a.createElement("a",{href:"/create-invoice"},"create invoice"),r.a.createElement("a",{href:"/create-reciept"},"Create Reciept"),r.a.createElement("a",{href:"/sales-invoices"},"Sales Invoices"),r.a.createElement("a",{href:"/customer-reciepts"},"Customer Reciepts"),r.a.createElement("a",{href:"/customers"},"Customers"),r.a.createElement("a",{href:"/expense-list"},"Expenses-list"))}}]),t}(n.Component)),K=Q,$=(a(95),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(K,null)),r.a.createElement("div",null,r.a.createElement("div",{className:"salesbox"},r.a.createElement("p",null,"Sales")),r.a.createElement("div",{className:"salesbox"},r.a.createElement("p",null,"Customer Reciepts"))),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component)),Z=$,ee=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"from purchase")}}]),t}(n.Component),te=ee,ae=(a(179),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"salesSideNav"},r.a.createElement("a",{href:"/accounts"},"ACCOUNTS"),r.a.createElement("a",{href:"/expenses"},"Expenses"),r.a.createElement("a",{href:"/journal-entries"},"Journal Entries"),r.a.createElement("a",{href:"/journal-items"},"Journal Items"),r.a.createElement("a",{href:"/accounts"},"Accounts"))}}]),t}(n.Component)),ne=ae,re=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(ne,null)),r.a.createElement("div",null,r.a.createElement("div",{className:"account-squarebox-row"},r.a.createElement("div",{className:"account-squarebox"},r.a.createElement("p",null,"Cashbook Balances")),r.a.createElement("div",{className:"account-squarebox"})),r.a.createElement("div",{className:"salesbox"},r.a.createElement("p",null,"Expense Report"))),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),le=re,ce=a(16),se=a(29),oe={fontFamily:"sans-serif",textAlign:"center"},ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={Data:{}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.get("invoice/sales-partner-chart/").then(function(t){var a=t.data,n=[],r=[];a.forEach(function(e){r.push(e.customer),n.push(e.grant_total)}),e.setState({Data:{labels:r,datasets:[{label:"collection",data:n,backgroundColor:["rgba(255,105,145,0.6)","rgba(155,100,210,0.6)","rgba(90,178,255,0.6)","hsl(120, 100%, 75%)","rgba(240,134,67,0.6)","rgba(120,120,120,0.6)","rgba(250,55,197,0.6)","rgba(255, 0, 0, 0.3)","hsl(120, 60%, 70%)","hsl(120, 100%, 50%)","hsl(120, 100%, 25%)"]}]}})})}},{key:"render",value:function(){return r.a.createElement("div",{style:oe},r.a.createElement(se.a,{data:this.state.Data,options:{maintainAspectRatio:!1}}))}}]),t}(n.Component),ue=ie,de={fontFamily:"sans-serif",textAlign:"center"},pe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={Data:{}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.get("invoice/sales-year-chart/").then(function(t){var a=t.data,n=[],r=[];a.forEach(function(e){n.push(e.year),r.push(e.grant_total)}),e.setState({Data:{labels:n,datasets:[{label:"collection",data:r,backgroundColor:["rgba(255,105,145,0.6)","rgba(155,100,210,0.6)","rgba(90,178,255,0.6)","hsl(120, 100%, 75%)","rgba(240,134,67,0.6)","rgba(120,120,120,0.6)","rgba(250,55,197,0.6)","rgba(255, 0, 0, 0.3)","hsl(120, 60%, 70%)","hsl(120, 100%, 50%)","hsl(120, 100%, 25%)"]}]}})})}},{key:"render",value:function(){return r.a.createElement("div",{style:de},r.a.createElement(se.b,{data:this.state.Data,options:{maintainAspectRatio:!1}}))}}]),t}(n.Component),me=pe,Ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={selectedOption:"option1",customer:[],users:[],selectedName:"",selectedYear:"",yearList:[],isNameselected:!0,customer_year_data:[],year:[]},a.loadYear=function(){g.get("invoice/sales-year-chart/").then(function(e){a.setState({yearList:e.data}),console.log(e.data.map(function(e){return e.year}))})},a.loadCustomer=function(){g.get("invoice/partner/").then(function(e){a.setState({customer:e.data}),console.log(e.data)})},a.userchart=function(){g.get("invoice/sales-partner-chart/").then(function(e){a.setState({users:e.data}),console.log(e.data)})},a.loadCustomerYearChart=function(){g.get("/invoice/sales-PartnerWithYear-chart/").then(function(e){a.setState({customer_year_data:e.data})})},a.handleOptionChange=function(e){a.setState({selectedOption:e.target.value})},a.customerChangeHandler=function(e){a.setState({selectedName:e.target.value,isNameselected:!1})},a.testrender=function(){var e=Number(a.state.selectedYear);console.log(a.state.customer_year_data);var t=[a.state.customer_year_data.filter(function(t){return a.state.selectedName===t.customer&&e===t.year})[0]];if(console.log(t),void 0!==t[0]){var n=[];n=t.map(function(e){return e.child})[0];var l=[],c=[];n.forEach(function(e){l.push(e.month),c.push(e.amount)}),a.state.month=l,a.state.amount=c,console.log(l),console.log(c);var s={labels:l,datasets:[{label:"collection",data:c,backgroundColor:["rgba(255,105,145,0.6)","rgba(155,100,210,0.6)","rgba(90,178,255,0.6)","hsl(120, 100%, 75%)","rgba(240,134,67,0.6)","rgba(120,120,120,0.6)","rgba(250,55,197,0.6)","rgba(255, 0, 0, 0.3)","hsl(120, 60%, 70%)","hsl(120, 100%, 50%)","hsl(120, 100%, 25%)"]}]};return r.a.createElement("div",null,r.a.createElement(se.c,{data:s,options:{maintainAspectRatio:!1}}))}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadCustomer(),this.userchart(),this.loadYear(),this.loadCustomerYearChart()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("select",{id:"select",onChange:function(t){return e.customerChangeHandler(t)}},r.a.createElement("option",{value:""},"select partner"),this.state.customer.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.customer},e.name)})),r.a.createElement("select",{disabled:this.state.isNameselected,id:"select",onChange:function(t){return e.setState({selectedYear:t.target.value})}},r.a.createElement("option",{value:""},"select year"),this.state.yearList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.year},e.year)})),this.state.selectedName&&this.state.selectedYear?this.testrender():null)}}]),t}(n.Component),he=Ee,fe={fontFamily:"sans-serif",textAlign:"center"},ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={Data:{}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.get("invoice/expense-year-chart/").then(function(t){var a=t.data,n=[],r=[];a.forEach(function(e){n.push(e.year),r.push(e.grant_total)}),e.setState({Data:{labels:n,datasets:[{label:"collection",data:r,backgroundColor:["rgba(255,105,145,0.6)","rgba(155,100,210,0.6)","rgba(90,178,255,0.6)","hsl(120, 100%, 75%)","rgba(240,134,67,0.6)","rgba(120,120,120,0.6)","rgba(250,55,197,0.6)","rgba(255, 0, 0, 0.3)","hsl(120, 60%, 70%)","hsl(120, 100%, 50%)","hsl(120, 100%, 25%)"]}]}})})}},{key:"render",value:function(){return r.a.createElement("div",{style:fe},r.a.createElement(se.b,{data:this.state.Data,options:{maintainAspectRatio:!1}}))}}]),t}(n.Component),be=ge,ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={selectedOption:"option1",users:[],selectedName:"",selectedYear:"",yearList:[],isNameselected:!0,expense_year_data:[],year:[],expenseCatList:[]},a.loadExpenseCat=function(){g.get("invoice/expense-category/").then(function(e){a.setState({expenseCatList:e.data}),console.log(e.data)})},a.loadYear=function(){g.get("invoice/expense-year-chart/").then(function(e){a.setState({yearList:e.data}),console.log(e.data.map(function(e){return e.year}))})},a.loadExpenseYearChart=function(){g.get("/invoice/expenseCat-year-amount-chart/").then(function(e){a.setState({expense_year_data:e.data})})},a.handleOptionChange=function(e){a.setState({selectedOption:e.target.value})},a.ExpenseCategoryChangeHandler=function(e){a.setState({selectedName:e.target.value,isNameselected:!1})},a.testrender=function(){var e=Number(a.state.selectedYear);console.log(a.state.customer_year_data);var t=[a.state.expense_year_data.filter(function(t){return a.state.selectedName===t.ExpenseCategory&&e===t.year})[0]];if(void 0!==t[0]){var n=[];n=t.map(function(e){return e.child})[0];var l=[],c=[];n.forEach(function(e){l.push(e.month),c.push(e.amount)}),a.state.month=l,a.state.amount=c,console.log(l),console.log(c);var s={labels:l,datasets:[{label:"collection",data:c,backgroundColor:["rgba(255,105,145,0.6)","rgba(155,100,210,0.6)","rgba(90,178,255,0.6)","hsl(120, 100%, 75%)","rgba(240,134,67,0.6)","rgba(120,120,120,0.6)","rgba(250,55,197,0.6)","rgba(255, 0, 0, 0.3)","hsl(120, 60%, 70%)","hsl(120, 100%, 50%)","hsl(120, 100%, 25%)"]}]};return r.a.createElement("div",null,r.a.createElement(se.a,{data:s,options:{maintainAspectRatio:!1}}))}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadYear(),this.loadExpenseYearChart(),this.loadExpenseCat()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("select",{id:"select",onChange:function(t){return e.ExpenseCategoryChangeHandler(t)}},r.a.createElement("option",{value:""},"select ExpCat"),this.state.expenseCatList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)})),r.a.createElement("select",{disabled:this.state.isNameselected,id:"select",onChange:function(t){return e.setState({selectedYear:t.target.value})}},r.a.createElement("option",{value:""},"select year"),this.state.yearList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.year},e.year)})),this.state.selectedName&&this.state.selectedYear?this.testrender():null)}}]),t}(n.Component),Ce=ve,De=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.e,{className:"mb-4"},r.a.createElement(ce.d,{md:"12",lg:"4",className:"mb-4"},r.a.createElement(ce.a,{className:"mb-4",style:{height:"17rem"}},r.a.createElement(ce.c,null,"Bar chart -Customers"),r.a.createElement(ce.b,null,r.a.createElement(ue,null)))),r.a.createElement(ce.d,{md:"12",lg:"4",className:"mb-4"},r.a.createElement(ce.a,{className:"mb-4",style:{height:"17rem"}},r.a.createElement(ce.c,null,"Doughnut chart-year vice"),r.a.createElement(ce.b,null,r.a.createElement(me,null)))),r.a.createElement(ce.d,{md:"12",lg:"4",className:"mb-4"},r.a.createElement(ce.a,{className:"mb-4",style:{height:"17rem"}},r.a.createElement(ce.c,null,"BarChart-CustomerYear-Based"),r.a.createElement(ce.b,null,r.a.createElement(he,null))))),r.a.createElement(ce.e,{className:"mb-4"},r.a.createElement(ce.d,{md:"12",lg:"4",className:"mb-4"},r.a.createElement(ce.a,{className:"mb-4",style:{height:"17rem"}},r.a.createElement(ce.c,null,"Doughnut-ExpenseAmount-Year chart"),r.a.createElement(ce.b,null,r.a.createElement(be,null)))),r.a.createElement(ce.d,{md:"12",lg:"4",className:"mb-4"},r.a.createElement(ce.a,{className:"mb-4",style:{height:"17rem"}},r.a.createElement(ce.c,null,"BarChart-ExpenseCat-Year"),r.a.createElement(ce.b,null,r.a.createElement(Ce,null))))))}}]),t}(n.Component),Oe=De,_e=a(336),ye=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={salesAccntList:[],purchaseAccntList:[],customerAccntList:[],supplierAccntList:[],isEditSettings:!1,salesId:{}},a.loadAccount=function(){g.get("invoice/account/").then(function(e){a.setState({salesAccntList:e.data.filter(function(e){return"SALES"===e.type}),purchaseAccntList:e.data.filter(function(e){return"PURCHASE"===e.type}),customerAccntList:e.data.filter(function(e){return"RECIEVABLE"===e.type}),supplierAccntList:e.data.filter(function(e){return"PAYABLE"===e.type})}),console.log(e.data)})},a.submitDataHandler=function(e){e.preventDefault(),console.log(a.state.salesId),void 0===a.state.purchseId&&a.setState({purchseId:a.props.PurchaseObj.id}),void 0===a.state.salesId&&a.setState({salesId:a.props.SalesObj.id}),void 0===a.state.customerId&&a.setState({customerId:a.props.CustomerObj.id}),void 0===a.state.supplierId&&a.setState({supplierId:a.props.SupplierObj.id});var t={SalesAccont:a.state.salesId,PurchaseAccont:a.state.purchseId,CustomerAccount:a.state.customerId,SupplierAccount:a.state.supplierId};console.log(t),a.props.editHandler(t)},a.salesHandler=function(e){console.log(e.target.value);var t=a.props.salesAccntList.filter(function(t){return t.name===e.target.value});console.log(t),a.setState({salesId:t[0].id})},a.purchseHandler=function(e){var t=a.props.purchaseAccntList.filter(function(t){return t.name===e.target.value});a.setState({purchseId:t[0].id})},a.customerHandler=function(e){var t=a.props.customerAccntList.filter(function(t){return t.name===e.target.value});a.setState({customerId:t[0].id})},a.supplierHandler=function(e){var t=a.props.supplierAccntList.filter(function(t){return t.name===e.target.value});a.setState({supplierId:t[0].id})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.loadAccount()}},{key:"render",value:function(){var e=this;return console.log(this.props.formData),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("div",{className:"SettingsAcntBoxwrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"Sales Account: "),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.salesHandler(t)}},r.a.createElement("option",{value:""},this.props.SalesObj.name),this.state.salesAccntList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"Purchase Account:"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.purchseHandler(t)}},r.a.createElement("option",{value:""},this.props.PurchaseObj.name),this.state.purchaseAccntList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)})))),r.a.createElement("br",null),r.a.createElement("div",{className:"SettingsAcntBoxwrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"Customer Account:"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.customerHandler(t)}},r.a.createElement("option",{value:""},this.props.CustomerObj.name),this.state.customerAccntList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"Supplier Account:"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.supplierHandler(t)}},r.a.createElement("option",{value:""},this.props.SupplierObj.name),this.state.supplierAccntList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)})))),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE "),r.a.createElement("button",{className:"cancelBtn",onClick:this.props.close},"CANCEL ")))}}]),t}(r.a.Component),Se=ye,Ae=(a(329),function(e){function t(){var e,a,n;Object(s.a)(this,t);for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state=(a={isEditSettings:!1,test:null,accountIdObj:{},accountList:[],defaultAccountList:[],SalesObj:{},PurchaseObj:{},CustomerObj:{},SupplierObj:{}},Object(B.a)(a,"accountList",[]),Object(B.a)(a,"salesAccntList",[]),Object(B.a)(a,"purchaseAccntList",[]),Object(B.a)(a,"customerAccntList",[]),Object(B.a)(a,"supplierAccntList",[]),a),n.loadAccountDefault=function(){g.get("invoice/accountDefault/1/").then(function(e){console.log(e.data),n.setState({accountIdObj:e.data,SalesObj:e.data.SalesAccont,CustomerObj:e.data.CustomerAccount,PurchaseObj:e.data.PurchaseAccont,SupplierObj:e.data.SupplierAccount})})},n.loadAccount=function(){g.get("invoice/account/").then(function(e){n.setState({accountList:e.data,salesAccntList:e.data.filter(function(e){return"SALES"===e.type}),purchaseAccntList:e.data.filter(function(e){return"PURCHASE"===e.type}),customerAccntList:e.data.filter(function(e){return"RECIEVABLE"===e.type}),supplierAccntList:e.data.filter(function(e){return"PAYABLE"===e.type})})})},n.EditSettings=function(){n.setState({isEditSettings:!0})},n.editWindowOpen=function(){return r.a.createElement(Se,{show:n.state.isEditSettings,close:n.editWindowClose,SalesObj:n.state.SalesObj,PurchaseObj:n.state.PurchaseObj,CustomerObj:n.state.CustomerObj,SupplierObj:n.state.SupplierObj,editHandler:n.objEditHandler,salesAccntList:n.state.salesAccntList,purchaseAccntList:n.state.purchaseAccntList,customerAccntList:n.state.customerAccntList,supplierAccntList:n.state.supplierAccntList})},n.objEditHandler=function(e){console.log(e),"{}"===JSON.stringify(n.state.accountIdObj)?g.post("invoice/accountDefault/",e).then(function(e){console.log(e.data)}):g.patch("invoice/accountDefault/1/",e).then(function(e){console.log(e.data)});var t=n.state.accountList.filter(function(t){return t.id===e.SalesAccont})[0],a=n.state.accountList.filter(function(t){return t.id===e.PurchaseAccont})[0],r=n.state.accountList.filter(function(t){return t.id===e.CustomerAccount})[0],l=n.state.accountList.filter(function(t){return t.id===e.SupplierAccount})[0];void 0!==l&&n.setState({SupplierObj:l,isEditSettings:!1}),void 0!==t&&n.setState({SalesObj:t,isEditSettings:!1}),void 0!==a&&n.setState({PurchaseObj:a,isEditSettings:!1}),void 0!==r&&n.setState({CustomerObj:r,isEditSettings:!1})},n.editWindowClose=function(){n.setState({isEditSettings:!1})},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadAccountDefault(),this.loadAccount()}},{key:"render",value:function(){return console.log(this.state),console.log(this.props),r.a.createElement("div",{className:"SettingsAcntBox"},this.state.isEditSettings?this.editWindowOpen():null,r.a.createElement("p",null,"DefaultSettings"),r.a.createElement("div",{className:"SettingsAcntBoxwrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"Sales Account"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.SalesObj.name,readOnly:!0})),r.a.createElement("div",null,r.a.createElement("label",null,"Purchase Account"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.PurchaseObj.name,readOnly:!0}))),r.a.createElement("br",null),r.a.createElement("div",{className:"SettingsAcntBoxwrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"Customer Account"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.CustomerObj.name,readOnly:!0})),r.a.createElement("div",null,r.a.createElement("label",null,"Supplier Account"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.SupplierObj.name,readOnly:!0}))),r.a.createElement("br",null),r.a.createElement("div",{style:{marginLeft:"200px"}},r.a.createElement("button",{className:"cancelBtn",onClick:this.EditSettings},"EDIT")))}}]),t}(n.Component)),Ne=Object(m.b)(function(e){return console.log(e),{accountList:e.account.account,defaultAccountList:e.account.defaultAccount}},function(e){return{currentUser:function(){return e(D())},onDefaultAccountList:function(){return e(_())},onAccount:function(){return e(y())}}})(Ae),we=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"salesSideNav"},r.a.createElement("a",{href:"/create-products"},"Create-Products"),r.a.createElement("a",{href:"/products"},"Products"),r.a.createElement("a",{href:"/create-partner"},"Create-Partner"),r.a.createElement("a",{href:"/partners"},"Partners"),r.a.createElement("a",{href:"/create-productCategory"},"Create ProductCategory"),r.a.createElement("a",{href:"/productCategorys"},"ProductCategory List"),r.a.createElement("a",{href:"/create-branch"},"Create Branch"),r.a.createElement("a",{href:"/branches"},"Branch List"),r.a.createElement("a",{href:"/create-area"},"Create Area"),r.a.createElement("a",{href:"/areas"},"Area List"))}}]),t}(n.Component),Le=we,je=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state=Object(B.a)({accountIdObj:{},accountList:[],defaultAccountList:[],SalesObj:{},PurchaseObj:{},CustomerObj:{},SupplierObj:{}},"accountList",[]),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser(),this.props.onDefaultAccountList(),this.props.onAccount()}},{key:"render",value:function(){return console.log(this.state),console.log(this.props),console.log(this.props.currentUserData.user_choice),r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement(Ne,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE"))}}]),t}(n.Component),Ie=Object(m.b)(function(e){return console.log(e),{accountList:e.account.account,defaultAccountList:e.account.defaultAccount,currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())},onDefaultAccountList:function(){return e(_())},onAccount:function(){return e(y())}}})(je),Te=a(20),Pe=a(19),ke=a.n(Pe),He=(a(330),function(e){var t=e.checked,a=e.onChange;return r.a.createElement("span",{className:"toggle-control"},r.a.createElement("input",{className:"dmcheck",type:"checkbox",checked:t,onChange:a,id:"dmcheck"}),r.a.createElement("label",{htmlFor:"dmcheck"}))}),Re=a(335),xe=(a(128),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={serial_no:0},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("div",{className:"row-wrapper1"},r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Sales Invoice")),r.a.createElement("div",null,r.a.createElement("label",null,"status   :"),r.a.createElement("label",null,"CLOSE"),"  ",r.a.createElement(He,{checked:this.props.formData.status}),r.a.createElement("label",null,"OPEN"))),r.a.createElement("br",null),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"INVOICE NO :"),this.props.formData.invoice_no),r.a.createElement("div",null,r.a.createElement("p",null,"CUSTOMER:"),this.props.formData.customer),r.a.createElement("div",null,r.a.createElement("p",null,"DATE:"),this.props.formData.date)),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"DOC NO:"),this.props.formData.doc_no),r.a.createElement("div",null,r.a.createElement("p",null,"BRANCH:"),this.props.formData.branch)),r.a.createElement("br",null),r.a.createElement("table",{className:"tables"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"ths"},"NO"),r.a.createElement("th",{className:"ths"},"ITEM"),r.a.createElement("th",{className:"ths"},"QTY"),r.a.createElement("th",{className:"ths"},"PRICE"),r.a.createElement("th",{className:"ths"},"AMOUNT"))),r.a.createElement("tbody",null,this.props.formData.child.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"tds"},r.a.createElement("input",{size:"5",value:a+e.state.serial_no+1,readOnly:!0})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,value:t.item})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,placeholder:"quantity",value:t.quantity,size:"5"})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,value:t.price,size:"5"})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,value:t.sub_total,size:"5"})))}))),r.a.createElement("div",{className:"invoiceviewbtm"},"TOTAL:",this.props.formData.total_amount,r.a.createElement("br",null),"DISCOUNT:",this.props.formData.discount,r.a.createElement("br",null),"GRAND TOTAL:",this.props.formData.grant_total,r.a.createElement("br",null)),r.a.createElement("p",null,"NARRATION:"),r.a.createElement("p",null,this.props.formData.narration))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-invoice"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component)),Ue=xe,We=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Sales Invoice"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this Sales Invoice ??"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"INVOICE NO"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"CUSTOMER"),r.a.createElement("th",null,"GRAND TOTAL"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.invoice_no),r.a.createElement("td",null,this.props.formData.date),r.a.createElement("td",null,this.props.formData.customer),r.a.createElement("td",null,this.props.formData.grant_total)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:this.props.deleteHandler},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),Me=We,Be=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).loadItems=function(){g.get("invoice/item/").then(function(t){e.setState({items:t.data}),console.log(t.data)})},e.loadCustomer=function(){g.get("invoice/partner/").then(function(t){e.setState({customerList:t.data.filter(function(e){return"SUPPLIER"!==e.type})}),console.log(t.data)})},e.loadBranch=function(){g.get("invoice/branch").then(function(t){e.setState({branchList:t.data})})},e.handleNameChange=function(t){e.setState(Object(C.a)({},e.state.holder,{name:t.target.value}))},e.DynamicInputChangeHandler=function(t){t.preventDefault();var a=t.target.name,n=t.target.value;e.setState(function(e){return{holder:Object(C.a)({},e.holder,Object(B.a)({},a,n))}}),e.props.formData.grant_total=e.state.holder.grant_total},e.handleInputChange=function(t){t.preventDefault(),console.log(t.target.name,t.target.value);var a=t.target.name,n=t.target.value;e.setState(Object(B.a)({},a,n)),console.log(e.state)},e.handlePriceChange=function(t){e.state.holder.child.map(function(a,n){if(t===n){var r=e.state.items.filter(function(e){var t=e.item;e.price;return t===a.item})[0];console.log(r),void 0!==r&&(e.state.selectedPrice=r.price,a.price=r.price)}});console.log(t),e.handleQtyChange(t)},e.handleItemChange=function(t){return function(a){var n=e.state.holder.child.map(function(e,n){return t!==n?e:Object(C.a)({},e,{item:a.target.value})});e.state.holder.child=n,e.setState(Object(C.a)({},e.state.holder,{child:n})),console.log(t,"test"),e.handleQtyChange(t)}},e.handleQtyChange=function(t){return function(a){console.log(t,"test");var n=e.state.holder.child.map(function(e,n){return t!==n?e:Object(C.a)({},e,{quantity:a.target.value})});e.setState(Object(C.a)({},e.state.holder,{child:n})),e.state.holder.child=Object(Te.a)(n),console.log(e.state.holder),console.log(n),e.SubTotalHandler(t)}},e.SubTotalHandler=function(t){e.state.holder.child.map(function(a,n){if(t===n){var r=e.state.items.filter(function(e){var t=e.item;e.price,e.id;return t===a.item})[0],l=r.price*a.quantity;e.setState({sub_total:l}),null!==a&&(e.state.holder.child[t].sub_total=l),void 0!==r&&(e.state.sub_total=l,a.sub_total=l)}});e.totalHandler()},e.totalHandler=function(){var t=[];if(console.log(e.state.total),console.log(e.state.holder),console.log(e.props.parentData),e.state.holder.child.map(function(e){t.push(e.sub_total)}),null!==t){var a=t.map(Number);console.log(t);var n=a.reduce(function(e,t){return e+t},0);console.log(n),console.log(n),e.state.holder.total_amount=n}},e.handleGrandTotalChange=function(){console.log(t);var t=e.state.holder.discount,a=e.state.holder.total_amount-t;console.log(a),e.state.holder.grant_total=a},e.handleSubmit=function(t){var a,n,r={};console.log(e.state.selectedName);var l=e.state.customerList.filter(function(t){return t.name===e.state.selectedName});a=e.state.settingsAcnt.SalesAccont,n=e.state.settingsAcnt.CustomerAccount,console.log(l),console.log(a),r.partner=null,r.account=a.id,r.credit_amount=e.state.holder.grant_total,r.debit_amount=0;var c={};c.partner=l[0].id,c.account=n.id,c.debit_amount=e.state.holder.grant_total,c.credit_amount=0;var s=[];s.push(r),s.push(c),console.log(s),delete e.state.child.id,console.log(e.state.child),e.props.formData.invoice_no=e.props.formData.invoice_no,e.props.formData.doc_no=e.state.holder.doc_no,e.props.formData.customer=e.state.selectedName,e.props.formData.branch=e.state.selectedBranch,e.props.formData.status=e.state.status,e.props.formData.narrationchildObject=e.state.narration,e.props.formData.date=e.state.holder.date,e.props.formData.total_amount=e.state.holder.total_amount,e.props.formData.grant_total=e.state.holder.grant_total,e.props.formData.discount=e.state.holder.discount,e.props.formData.child=e.state.holder.child,e.props.formData.journal_entry={date:e.state.holder.date,transaction_type:"SALES",description:e.state.narration,journal_item:s},e.props.editHandler(t,e.props.formData),console.log(e.props.formData)},e.addItemHandler=function(t){var a=e.state.holder.child;a.push({item:"",price:"",quantity:null,sub_total:null}),e.setState(Object(C.a)({},e.state.holder,{child:a})),t.preventDefault()},e.removeLineHandler=function(t,a){var n=e.state.holder.child,r=n.filter(function(e,t){return t===a}),l=n.indexOf(r[0]);n.splice(l,1),console.log(n),e.setState(Object(C.a)({},e.state.holder,{child:n})),e.totalHandler(),t.preventDefault()},e.statusHandler=function(){!1===e.state.status?e.setState({status:!0}):e.setState({status:!1})},e.state={items:[],child:[],selectedName:null,selectedBranch:null,invoice:null,holder:[],parentData:[],amountList:[],customerList:[],branchList:[],settingsAcnt:[],serial_no:0,status:null},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({holder:this.props.formData,status:this.props.formData.status,settingsAcnt:this.props.settingsAcnt,customerList:this.props.customerList,selectedName:this.props.formData.customer,selectedBranch:this.props.formData.branch,date:this.props.formData.date,total:this.props.formData.total_amount,grant_total:this.props.formData.grant_total,narration:this.props.formData.narration}),this.loadItems(),this.loadCustomer(),this.loadBranch(),console.log("will"),console.log(this.state)}},{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.state.holder),console.log(this.state),console.log(this.state.child),console.log(this.props),r.a.createElement(_e.a,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,{id:"contained-modal-title-vcenter"},"Edit Sales Invoice")),r.a.createElement(_e.a.Body,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:"row-wrapper1"},r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"create sales invoice")),r.a.createElement("div",null,r.a.createElement("label",null,"status   :"),r.a.createElement("label",null,"CLOSE"),"  ",r.a.createElement(He,{checked:this.state.status,onChange:this.statusHandler}),r.a.createElement("label",null,"OPEN"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"INVOICE"),r.a.createElement("br",null),r.a.createElement("input",{readOnly:!0,className:"grand",value:this.state.holder.invoice_no})),r.a.createElement("div",null,r.a.createElement("label",null,"COSTUMER"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedName:t.target.value})}},r.a.createElement("option",{value:""},this.props.formData.customer),this.state.customerList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"date",value:this.state.holder.date,onChange:this.DynamicInputChangeHandler,required:"required"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"DOC NO"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",value:this.state.holder.doc_no,onChange:this.DynamicInputChangeHandler,name:"doc_no"})),r.a.createElement("div",null,r.a.createElement("label",null,"BRANCH"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedBranch:t.target.value})}},r.a.createElement("option",{value:""},this.state.holder.branch),this.state.branchList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.branch},e.branch)})))),r.a.createElement("br",null),r.a.createElement("button",{className:"addBtn",onClick:this.addItemHandler},"ADD+"),void 0!==this.state.holder.child?r.a.createElement("div",{className:"itemBox"},this.state.holder.child.map(function(t,a){return r.a.createElement("div",{key:a,className:"row-wrapper-item"},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,a+e.state.serial_no+1)),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:e.handleItemChange(a)},r.a.createElement("option",{value:""},t.item),e.state.items.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.item},e.item)}))),r.a.createElement("div",null,r.a.createElement("br",null),e.handlePriceChange(a),r.a.createElement("input",{className:"grand",readOnly:!0,type:"box",value:t.price,onChange:e.handlePriceChange(a)})),r.a.createElement("div",null,r.a.createElement("br",null),e.handleQtyChange(a),r.a.createElement("input",{className:"grand",type:"number",min:"0",id:"quantity",placeholder:"quantity",onChange:e.handleQtyChange(a),value:t.quantity})),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"box",id:"sub_total",name:"sub_total",placeholder:"sub-total",value:t.sub_total,readOnly:!0})),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("i",{onClick:function(t,n){return e.removeLineHandler(t,a)},className:"fas fa-times"})))})):null,r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper-btm"},r.a.createElement("div",null,r.a.createElement("label",null,"NARRATION"),r.a.createElement("br",null),r.a.createElement("input",{className:"narration",name:"narration",onChange:this.handleInputChange,value:this.state.narration})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,"TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",value:this.state.holder.total_amount,readOnly:!0})),r.a.createElement("br",null),r.a.createElement("div",null,this.handleGrandTotalChange(),r.a.createElement("label",null,"GRAND TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",readOnly:!0,value:this.state.holder.grant_total,onChange:this.handleGrandTotalChange()}))),r.a.createElement("div",null,r.a.createElement("label",null,"DISCOUNT"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"number",min:"0",name:"discount",onChange:this.DynamicInputChangeHandler,value:this.state.holder.discount}))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"info",onClick:this.props.close},"CANCEL"),r.a.createElement(Re.a,{variant:"info",onClick:function(t){return e.handleSubmit(t)}},"SAVE")))}}]),t}(r.a.Component),Fe=Be,Ve=(a(331),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={date:new Date,customerList:[],branchList:[],itemList:[],parantdataList:[],formData:[],settingsAcnt:[],serial_no:0,invoice_no:null,doc_no:null,selectedName:"",selectedBranch:null,narration:"",total:null,grant_total:null,discount:null,status:!1,holder:[{item:"",price:"",quantity:null,sub_total:null}],salesPage:!1},a.loadSettingsAccnt=function(){g.get("invoice/accountDefault/1/").then(function(e){a.setState({settingsAcnt:e.data}),console.log(e.data)})},a.loadCustomer=function(){g.get("invoice/partner/").then(function(e){a.setState({customerList:e.data.filter(function(e){return"SUPPLIER"!==e.type})}),console.log(e.data)})},a.loadBranch=function(){g.get("invoice/branch").then(function(e){a.setState({branchList:e.data})})},a.loadItem=function(){g.get("invoice/item/").then(function(e){a.setState({itemList:e.data}),console.log(e.data)})},a.loadParantData=function(){g.get("invoice/parantdata/").then(function(e){a.setState({parantdataList:e.data})})},a.postData=function(e){g.post("/invoice/parantdata/",e).then(function(e){console.log(e.data)}).catch(function(e){console.log(e),alert("something wrong.please try again !!!")})},a.openSalesInvoice=function(){return console.log("success"),r.a.createElement(p.a,{to:"/sales-invoices"})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.handlePriceChange=function(e){a.state.holder.map(function(t,n){if(e===n){var r=a.state.itemList.filter(function(e){var a=e.item;e.price;return a===t.item})[0];console.log(r),void 0!==r&&(a.state.selectedPrice=r.price,t.price=r.price)}})},a.handleGrandTotalChange=function(){console.log(e);var e=a.state.discount,t=a.state.total-e;console.log(t),a.state.grant_total=t},a.invoice_noChangeHandler=function(){console.log(a.state.invoice_no);var e=a.state.parantdataList.reduce(function(e,t){return(e.invoice_no||0)>t.invoice_no?e:t},{});console.log(e.invoice_no);var t=e.invoice_no;console.log(a.state.parantdataList),0===a.state.parantdataList.length?a.state.invoice_no=1:a.state.invoice_no=t+1},a.totalHandler=function(){console.log(a.state.holder);var e=[];a.state.holder.map(function(t){if(e.push(t.sub_total),console.log(e),null!==e){var n=e.reduce(function(e,t){return e+t},0);a.state.total=n}})},a.SubTotalHandler=function(e){a.props.invoice;var t=a.state.holder;t.sub_total,t.quantity,t.price,t.map(function(t,n){if(e===n){var r=a.state.itemList.filter(function(e){var a=e.item;e.price;return a===t.item})[0];r["price "]*r.quantity;var l=r.price*t.quantity;if(a.setState({sub_total:l}),null!==t&&(a.state.holder[e].sub_total=l),null==t)return null;void 0!==r&&(a.state.sub_total=l,t.sub_total=l)}});a.totalHandler()},a.handleItemChange=function(e){return function(t){var n=a.state.holder.map(function(a,n){return e!==n?a:Object(C.a)({},a,{item:t.target.value})});a.state.holder=n,a.setState({holder:n})}},a.handleNameChange=function(e){return function(t){var n=a.state.holder.map(function(a,n){return e!==n?a:Object(C.a)({},a,{name:t.target.value})});a.setState({holder:n})}},a.toggleHandleChange=function(e){e.target.checked},a.submitDataHandler=function(e){var t,n,r={},l=a.state.customerList.filter(function(e){return e.name===a.state.selectedName});t=a.state.settingsAcnt.SalesAccont,n=a.state.settingsAcnt.CustomerAccount,console.log(l),console.log(t),r.partner=null,r.account=t.id,r.credit_amount=a.state.grant_total,r.debit_amount=0;var c={};c.partner=l[0].id,c.account=n.id,c.debit_amount=a.state.grant_total,c.credit_amount=0;var s=[];s.push(r),s.push(c);var o={invoice_no:a.state.invoice_no,doc_no:a.state.doc_no,customer:a.state.selectedName,branch:a.state.selectedBranch,status:a.state.status,narration:a.state.narration,date:a.state.date,total_amount:a.state.total,discount:a.state.discount,grant_total:a.state.grant_total,child:a.state.holder,journal_entry:{date:a.state.date,transaction_type:"SALES",description:a.state.narration,journal_item:s}};console.log(o),null!==a.state.selectedBranch&&g.post("invoice/parantdata/",o).then(function(e){a.props.onCreateInvoice(e.data),a.setState({salesPage:!0})}).catch(function(e){a.props.onCreateInvoiceFail(e)})},a.addItemHandler=function(e){a.setState(function(e){return{holder:e.holder.concat({item:"",price:"",quantity:null,sub_total:null})}}),e.preventDefault()},a.handleQtyChange=function(e){return function(t){var n=a.state.holder.map(function(a,n){return e!==n?a:Object(C.a)({},a,{quantity:t.target.value})});a.setState({holder:n}),a.state.holder=Object(Te.a)(n),a.SubTotalHandler(e)}},a.cancelDataHandler=function(){a.setState({holder:[{item:"",price:"",quantity:null,sub_total:null}],doc_no:"",selectedName:"",discount:null,total:0,narration:""})},a.removeLineHandler=function(e,t){if(1!==a.state.holder.length){var n=a.state.holder,r=n.filter(function(e,a){return a===t}),l=n.indexOf(r[0]);console.log(l),n.splice(l,1),console.log(n),a.setState({holder:n}),a.totalHandler(),console.log(a.state.holder)}e.preventDefault()},a.statusHandler=function(){!1===a.state.status?a.setState({status:!0}):a.setState({status:!1})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({date:ke()(new Date).format("YYYY-MM-DD")}),this.loadCustomer(),this.loadBranch(),this.loadItem(),this.loadParantData(),this.loadSettingsAccnt()}},{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("div",null,this.state.salesPage?this.openSalesInvoice():null,r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper1"},r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"create sales invoice")),r.a.createElement("div",null,r.a.createElement("label",null,"status   :"),r.a.createElement("label",null,"CLOSE"),"  ",r.a.createElement(He,{checked:this.state.status,onChange:this.statusHandler}),r.a.createElement("label",null,"OPEN"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,this.invoice_noChangeHandler(),r.a.createElement("label",null,"INVOICE"),r.a.createElement("br",null),r.a.createElement("input",{readOnly:!0,className:"grand",value:this.state.invoice_no,onChange:this.invoice_noChangeHandler()})),r.a.createElement("div",null,r.a.createElement("label",null,"COSTUMER"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedName:t.target.value})}},r.a.createElement("option",{value:""},"select name"),this.state.customerList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"date",value:this.state.date,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"DOC NO"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",value:this.state.doc_no,onChange:this.handleInputChange,name:"doc_no"})),r.a.createElement("div",null,r.a.createElement("label",null,"BRANCH"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedBranch:t.target.value})}},r.a.createElement("option",{value:""},"select branch"),this.state.branchList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.branch},e.branch)})))),r.a.createElement("br",null),r.a.createElement("button",{className:"addBtn",onClick:this.addItemHandler},"ADD+"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"itemBox"},this.state.holder.map(function(t,a){return r.a.createElement("div",{key:a,className:"row-wrapper-item"},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,a+e.state.serial_no+1)),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:e.handleItemChange(a)},r.a.createElement("option",null,"selectitem"),e.state.itemList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.item},e.item)}))),r.a.createElement("div",null,r.a.createElement("br",null),e.handlePriceChange(a),r.a.createElement("input",{className:"grand",type:"box",value:t.price,onChange:e.handlePriceChange(a),readOnly:!0})),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"number",min:"0",id:"quantity",ref:e.quantityRef,placeholder:"quantity",onChange:e.handleQtyChange(a),value:t.quantity,disabled:!t.price})),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"box",id:"sub_total",name:"sub_total",placeholder:"sub-total",value:t.sub_total,disabled:!t.sub_total})),r.a.createElement("div",null,r.a.createElement("br",null),e.state.holder.length!==Number(1)?r.a.createElement("div",null,r.a.createElement("i",{onClick:function(t,n){return e.removeLineHandler(t,a)},className:"fas fa-times"})):null,"                "))})),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper-btm"},r.a.createElement("div",null,r.a.createElement("label",null,"NARRATION"),r.a.createElement("br",null),r.a.createElement("input",{className:"narration",name:"narration",onChange:this.handleInputChange,value:this.state.narration})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,"TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",value:this.state.total})),r.a.createElement("br",null),r.a.createElement("div",null,this.handleGrandTotalChange(),r.a.createElement("label",null,"GRAND TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",readOnly:!0,value:this.state.grant_total,onChange:this.handleGrandTotalChange()}))),r.a.createElement("div",null,r.a.createElement("label",null,"DISCOUNT"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"number",min:"0",name:"discount",onChange:this.handleInputChange,value:this.state.discount,disabled:!this.state.total})))),r.a.createElement("br",null),r.a.createElement("button",{className:"cancelBtn",onClick:this.state.selectedName?this.submitDataHandler:null},"SAVE"),r.a.createElement("button",{className:"cancelBtn",onClick:function(t){return e.cancelDataHandler(t)}},"CANCEL"))}}]),t}(n.Component)),Ye=Object(m.b)(null,function(e){return{onCreateInvoice:function(t){return e(O(t))},onCreateInvoiceFail:function(t){return e({type:"CREATE_INVOICE_FAIL"})}}})(Ve),Ge=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(K,null)),r.a.createElement("div",{className:"CreateInvoiceBox"},r.a.createElement(Ye,null)),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),Je=Ge,qe=(a(79),a(337)),Xe=(a(332),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=this.props.item_count,n=this.props.perpage_count,l=a%n===0?a/n:Math.floor(a/n)+1,c=function(a){t.push(r.a.createElement(qe.a.Item,{key:a,active:a===e.props.page,onClick:function(){return e.props.click(a)}},a))},s=1;s<=l;s++)c(s);return r.a.createElement("div",null,r.a.createElement(qe.a,{bssize:"small"},r.a.createElement(qe.a.Item,{disabled:this.props.firstDisabled,onClick:function(){return e.props.firstClick()}}," First Page"),r.a.createElement(qe.a.Item,{disabled:this.props.prevDisabled,onClick:function(){return e.props.prevClick()}}," \u2190 Previous Page"),t,r.a.createElement(qe.a.Item,{disabled:this.props.nxtDisabled,onClick:function(){return e.props.nxtClick()}},"Next Page \u2192"),r.a.createElement(qe.a.Item,{disabled:this.props.lastDisabled,onClick:function(){return e.props.lastClick()}}," Last Page")))}}]),t}(n.Component)),ze=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={serial_no:0},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("div",{className:"row-wrapper1"},r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Sales Invoice")),r.a.createElement("div",null,r.a.createElement("label",null,"status   :"),r.a.createElement("label",null,"CLOSE"),"  ",r.a.createElement(He,{checked:this.props.formData.status}),r.a.createElement("label",null,"OPEN"))),r.a.createElement("br",null),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"INVOICE NO :"),this.props.formData.invoice_no),r.a.createElement("div",null,r.a.createElement("p",null,"CUSTOMER:"),this.props.formData.customer),r.a.createElement("div",null,r.a.createElement("p",null,"DATE:"),this.props.formData.date)),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"DOC NO:"),this.props.formData.doc_no),r.a.createElement("div",null,r.a.createElement("p",null,"BRANCH:"),this.props.formData.branch)),r.a.createElement("br",null),r.a.createElement("table",{className:"tables"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"ths"},"NO"),r.a.createElement("th",{className:"ths"},"ITEM"),r.a.createElement("th",{className:"ths"},"QTY"),r.a.createElement("th",{className:"ths"},"PRICE"),r.a.createElement("th",{className:"ths"},"AMOUNT"))),r.a.createElement("tbody",null,this.props.formData.child.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"tds"},r.a.createElement("input",{size:"5",value:a+e.state.serial_no+1,readOnly:!0})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,value:t.item})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,placeholder:"quantity",value:t.quantity,size:"5"})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,value:t.price,size:"5"})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,value:t.sub_total,size:"5"})))}))),r.a.createElement("div",{className:"invoiceviewbtm"},"TOTAL:",this.props.formData.total_amount,r.a.createElement("br",null),"DISCOUNT:",this.props.formData.discount,r.a.createElement("br",null),"GRAND TOTAL:",this.props.formData.grant_total,r.a.createElement("br",null)),r.a.createElement("p",null,"NARRATION:"),r.a.createElement("p",null,this.props.formData.narration))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-invoice"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:this.props.deletewindow},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),Qe=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Sales Invoice"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this Sales Invoice ??"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"INVOICE NO"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"CUSTOMER"),r.a.createElement("th",null,"GRAND TOTAL"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.invoice_no),r.a.createElement("td",null,this.props.formData.date),r.a.createElement("td",null,this.props.formData.customer),r.a.createElement("td",null,this.props.formData.grant_total)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),Ke=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).loadItems=function(){g.get("invoice/item/").then(function(t){e.setState({items:t.data}),console.log(t.data)})},e.loadCustomer=function(){g.get("invoice/partner/").then(function(t){e.setState({customerList:t.data.filter(function(e){return"SUPPLIER"!==e.type})}),console.log(t.data)})},e.loadBranch=function(){g.get("invoice/branch").then(function(t){e.setState({branchList:t.data})})},e.handleNameChange=function(t){e.setState(Object(C.a)({},e.state.holder,{name:t.target.value}))},e.addItemHandler=function(t){e.setState({child:e.state.child.concat({item:"",price:"",quantity:null,sub_total:null})}),t.preventDefault()},e.DynamicInputChangeHandler=function(t){t.preventDefault();var a=t.target.name,n=t.target.value;e.setState(function(e){return{holder:Object(C.a)({},e.holder,Object(B.a)({},a,n))}}),e.props.formData.grant_total=e.state.holder.grant_total},e.handleInputChange=function(t){t.preventDefault(),console.log(t.target.name,t.target.value);var a=t.target.name,n=t.target.value;e.setState(Object(B.a)({},a,n)),console.log(e.state)},e.handlePriceChange=function(t){e.state.holder.child.map(function(a,n){if(t===n){var r=e.state.items.filter(function(e){var t=e.item;e.price;return t===a.item})[0];console.log(r),void 0!==r&&(e.state.selectedPrice=r.price,a.price=r.price)}});console.log(t),e.handleQtyChange(t)},e.handleItemChange=function(t){return function(a){var n=e.state.holder.child.map(function(e,n){return t!==n?e:Object(C.a)({},e,{item:a.target.value})});e.state.holder.child=n,e.setState(Object(C.a)({},e.state.holder,{child:n})),console.log(t,"test"),e.handleQtyChange(t)}},e.handleQtyChange=function(t){return function(a){console.log(t,"test");var n=e.state.holder.child.map(function(e,n){return t!==n?e:Object(C.a)({},e,{quantity:a.target.value})});e.setState(Object(C.a)({},e.state.holder,{child:n})),e.state.holder.child=Object(Te.a)(n),console.log(e.state.holder),console.log(n),e.SubTotalHandler(t)}},e.SubTotalHandler=function(t){e.state.holder.child.map(function(a,n){if(t===n){var r=e.state.items.filter(function(e){var t=e.item;e.price,e.id;return t===a.item})[0],l=r.price*a.quantity;e.setState({sub_total:l}),null!==a&&(e.state.holder.child[t].sub_total=l),void 0!==r&&(e.state.sub_total=l,a.sub_total=l)}});e.totalHandler()},e.totalHandler=function(){var t=[];if(console.log(e.state.total),console.log(e.state.holder),console.log(e.props.parentData),e.state.holder.child.map(function(e){t.push(e.sub_total)}),null!==t){var a=t.map(Number);console.log(t);var n=a.reduce(function(e,t){return e+t},0);console.log(n),console.log(n),e.state.holder.total_amount=n}},e.handleGrandTotalChange=function(){console.log(t);var t=e.state.holder.discount,a=e.state.holder.total_amount-t;console.log(a),e.state.holder.grant_total=a},e.handleSubmit=function(t){var a,n,r={};console.log(e.state.selectedName);var l=e.state.customerList.filter(function(t){return t.name===e.state.selectedName});a=e.state.settingsAcnt.SalesAccont,n=e.state.settingsAcnt.CustomerAccount,console.log(l),console.log(a),r.partner=null,r.account=a.id,r.credit_amount=e.state.holder.grant_total,r.debit_amount=0;var c={};c.partner=l[0].id,c.account=n.id,c.debit_amount=e.state.holder.grant_total,c.credit_amount=0;var s=[];s.push(r),s.push(c),console.log(s),delete e.state.child.id,console.log(e.state.child),e.props.formData.invoice_no=e.props.formData.invoice_no,e.props.formData.doc_no=e.state.holder.doc_no,e.props.formData.customer=e.state.selectedName,e.props.formData.branch=e.state.selectedBranch,e.props.formData.state=e.state.status,e.props.formData.narration=e.state.narration,e.props.formData.date=e.state.holder.date,e.props.formData.total_amount=e.state.holder.total_amount,e.props.formData.grant_total=e.state.holder.grant_total,e.props.formData.discount=e.state.holder.discount,e.props.formData.child=e.state.holder.child,e.props.formData.journal_entry={date:e.state.holder.date,transaction_type:"SALES",description:e.state.narration,journal_item:s},console.log(e.props.formData),e.props.editHandler(t,e.props.formData)},e.addItemHandler=function(t){var a=e.state.holder.child;a.push({item:"",price:"",quantity:null,sub_total:null}),e.setState(Object(C.a)({},e.state.holder,{child:a})),t.preventDefault()},e.removeLineHandler=function(t,a){var n=e.state.holder.child,r=n.filter(function(e,t){return t===a}),l=n.indexOf(r[0]);n.splice(l,1),console.log(n),e.setState(Object(C.a)({},e.state.holder,{child:n})),e.totalHandler(),t.preventDefault()},e.statusHandler=function(){!1===e.state.status?e.setState({status:!0}):e.setState({status:!1})},e.state={items:[],child:[],selectedName:null,selectedBranch:null,invoice:null,holder:[],parentData:[],amountList:[],customerList:[],settingsAcnt:[],branchList:[],serial_no:0,status:null},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({holder:this.props.formData,settingsAcnt:this.props.settingsAcnt,customerList:this.props.customerList,selectedName:this.props.formData.customer,selectedBranch:this.props.formData.branch,status:this.props.formData.status,date:this.props.formData.date,total:this.props.formData.total_amount,grant_total:this.props.formData.grant_total,narration:this.props.formData.narration}),this.loadItems(),this.loadBranch(),console.log("will"),console.log(this.state)}},{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.state.holder),console.log(this.state.holder.child),console.log(this.state.child),console.log(this.props.childObject),r.a.createElement(_e.a,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,{id:"contained-modal-title-vcenter"},"Edit Sales Invoice")),r.a.createElement(_e.a.Body,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:"row-wrapper1"},r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"create sales invoice")),r.a.createElement("div",null,r.a.createElement("label",null,"status   :"),r.a.createElement("label",null,"CLOSE"),r.a.createElement(He,{checked:this.state.status,onChange:this.statusHandler}),r.a.createElement("label",null,"OPEN"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"INVOICE"),r.a.createElement("br",null),r.a.createElement("input",{readOnly:!0,className:"grand",value:this.state.holder.invoice_no})),r.a.createElement("div",null,r.a.createElement("label",null,"COSTUMER"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedName:t.target.value})}},r.a.createElement("option",{value:""},this.props.formData.customer),this.state.customerList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"date",value:this.state.holder.date,onChange:this.DynamicInputChangeHandler,required:"required"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"DOC NO"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",value:this.state.holder.doc_no,onChange:this.DynamicInputChangeHandler,name:"doc_no"})),r.a.createElement("div",null,r.a.createElement("label",null,"BRANCH"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedBranch:t.target.value})}},r.a.createElement("option",{value:""},this.state.holder.branch),this.state.branchList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.branch},e.branch)})))),r.a.createElement("br",null),r.a.createElement("button",{className:"addBtn",onClick:this.addItemHandler},"ADD+"),void 0!==this.state.holder.child?r.a.createElement("div",{className:"itemBox"},this.state.holder.child.map(function(t,a){return r.a.createElement("div",{key:a,className:"row-wrapper-item"},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,a+e.state.serial_no+1)),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:e.handleItemChange(a)},r.a.createElement("option",{value:""},t.item),e.state.items.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.item},e.item)}))),r.a.createElement("div",null,r.a.createElement("br",null),e.handlePriceChange(a),r.a.createElement("input",{className:"grand",readOnly:!0,type:"box",value:t.price,onChange:e.handlePriceChange(a)})),r.a.createElement("div",null,r.a.createElement("br",null),e.handleQtyChange(a),r.a.createElement("input",{className:"grand",type:"number",min:"0",id:"quantity",placeholder:"quantity",onChange:e.handleQtyChange(a),value:t.quantity})),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"box",id:"sub_total",name:"sub_total",placeholder:"sub-total",value:t.sub_total,readOnly:!0})),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("i",{onClick:function(t,n){return e.removeLineHandler(t,a)},className:"fas fa-times"})))})):null,r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper-btm"},r.a.createElement("div",null,r.a.createElement("label",null,"NARRATION"),r.a.createElement("br",null),r.a.createElement("input",{className:"narration",name:"narration",onChange:this.handleInputChange,value:this.state.narration})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,"TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",value:this.state.holder.total_amount,readOnly:!0})),r.a.createElement("br",null),r.a.createElement("div",null,this.handleGrandTotalChange(),r.a.createElement("label",null,"GRAND TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",readOnly:!0,value:this.state.holder.grant_total,onChange:this.handleGrandTotalChange()}))),r.a.createElement("div",null,r.a.createElement("label",null,"DISCOUNT"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"number",min:"0",name:"discount",onChange:this.DynamicInputChangeHandler,value:this.state.holder.discount}))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"info",onClick:this.props.close},"CANCEL"),r.a.createElement(Re.a,{variant:"info",onClick:function(t){return e.handleSubmit(t)}},"SAVE")))}}]),t}(r.a.Component),$e=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={invoiceData:[],customerList:[],settingsAcnt:[],formData:[],editObject:[],isEdit:!1,invoice_number:null,isDelete:!1,deleteId:null,editId:null,isView:!1,selectedName:null,start_date:null,end_date:null,perpage:10,curr_page:1,start_point:0,end_point:null,prevDisabled:!0,nxtDisabled:!1,firstDisabled:!0,lastDisabled:!1},a.loadCustomer=function(){g.get("invoice/partner/").then(function(e){a.setState({customerList:e.data.filter(function(e){return"SUPPLIER"!==e.type})}),console.log(e.data)})},a.loadSettingsAccnt=function(){g.get("invoice/accountDefault/1/").then(function(e){a.setState({settingsAcnt:e.data}),console.log(e.data)})},a.pagexClickHandler=function(e){console.log(e);var t=a.state.invoiceData.length,n=a.state.perpage,r=Math.ceil(t/n),l=(e-1)*n,c=e<r||t%n===0?l+n:l+t%n;1===e?a.setState({prevDisabled:!0,firstDisabled:!0,nxtDisabled:!1,lastDisabled:!1}):e===r?a.setState({nxtDisabled:!0,lastDisabled:!0,prevDisabled:!1,firstDisabled:!1}):a.setState({nxtDisabled:!1,prevDisabled:!1,firstDisabled:!1,lastDisabled:!1}),a.setState({curr_page:e,start_point:l,end_point:c})},a.previousClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(a.state.curr_page-1)},a.nextClickHandler=function(){var e=a.state.invoiceData.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(a.state.curr_page+1)},a.firstClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(1)},a.lastClickHandler=function(){var e=a.state.invoiceData.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(t)},a.salesViewModal=function(){return r.a.createElement(ze,{show:a.props.salesPageOpen,close:a.props.salesViewWindowClose,formData:a.props.invoiceData,deletewindow:a.props.salesDeleteWindowOpen,editwindow:a.props.salesEditWindowOpen})},a.salesDeleteModal=function(){return r.a.createElement(Qe,{show:a.props.isDeletePage,close:a.props.salesDeleteWindowClose,deleteHandler:a.spotObjDeleteHandler,formData:a.props.invoiceData})},a.salesEditModal=function(){return r.a.createElement(Ke,{show:a.props.isEditPage,close:a.props.salesEditWindowClose,formData:a.props.invoiceData,editId:a.state.editId,editHandler:a.spotObjEditHandler,settingsAcnt:a.state.settingsAcnt,customerList:a.state.customerList})},a.spotObjDeleteHandler=function(e){console.log(e);var t=a.state.invoiceData;console.log(t);var n=t,r=a.state.invoiceData.filter(function(t){return t.id===e});console.log(r);var l=n.indexOf(r[0]);console.log(l),g.delete("/invoice/parantdata/"+e).then(function(e){console.log(e.data),n.splice(l,1),a.setState({invoiceData:n}),a.props.deleteInvoiceSucces()}).catch(function(e){a.props.deleteInvoiceFail(e)})},a.spotObjEditHandler=function(e,t){var n=[];n.push(t),g.patch("/invoice/parantdata/"+t.id+"/",t).then(function(e){a.props.editInvoiceSuccess(e.data);var t=a.state.invoiceData.map(function(e){return n.find(function(t){return t.id===e.id})||e});a.setState({invoiceData:t})}).catch(function(e){a.props.editInvoiceFail(e)})},a.viewModal=function(){return r.a.createElement(Ue,{show:a.state.isView,close:a.viewWindowClose,formData:a.state.viewObject,deletewindow:a.deleteWindowOpen,editwindow:a.editWindowOpen})},a.viewWindowOpen=function(e){var t=a.state.invoiceData.filter(function(t){return t.id===e});console.log(t),console.log(t[0]),a.setState({isView:!0,viewObject:t[0]})},a.viewWindowClose=function(){a.setState({isView:!1,viewObject:{}})},a.deleteWindowOpen=function(e,t){e.preventDefault(),a.setState({isDelete:!0,deleteId:t})},a.deleteHandler=function(e){e.preventDefault();var t=a.state.deleteId,n=a.state.invoiceData,r=a.state.invoiceData.filter(function(e){return e.id===t}),l=n.indexOf(r[0]);g.delete("invoice/parantdata/"+t).then(function(e){n.splice(l,1),a.setState({invoiceData:n,isDelete:!1,isView:!1})})},a.deleteModal=function(){return r.a.createElement(Me,{show:a.state.isDelete,close:a.deleteWindowClose,deleteHandler:a.deleteHandler,formData:a.state.viewObject})},a.deleteWindowClose=function(){a.setState({isDelete:!1})},a.editModal=function(){return r.a.createElement(Fe,{show:a.state.isEdit,close:a.editWindowClose,formData:a.state.editObject,editId:a.state.editId,editHandler:a.objEditHandler,settingsAcnt:a.state.settingsAcnt,customerList:a.state.customerList})},a.objEditHandler=function(e,t){e.preventDefault(),g.patch("/invoice/parantdata/"+t.id+"/",t).then(function(e){console.log(e.data),a.setState({isEdit:!1}),a.viewWindowOpen(t.id)})},a.editWindowOpen=function(e,t){e.preventDefault();var n=a.state.invoiceData.filter(function(e){return e.id===t});n[0].child.map(function(e){return delete e.id}),n[0].child.map(function(e){return delete e.key}),console.log(n[0]),a.setState({isEdit:!0,editObject:n[0],editId:t}),console.log(n[0])},a.editWindowClose=function(){a.setState({isEdit:!1,editObject:{}})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.filterHandler=function(e){null===a.state.selectedName?g.get("invoice/parantdata?start_date="+a.state.start_date+"&end_date="+a.state.end_date).then(function(e){a.setState({invoiceData:e.data})}):g.get("invoice/parantdata/?start_date="+a.state.start_date+"&end_date="+a.state.end_date+"&customer="+a.state.selectedName).then(function(e){a.setState({invoiceData:e.data})})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({start_date:ke()(new Date).format("YYYY-MM-DD"),end_date:ke()(new Date).format("YYYY-MM-DD"),end_point:this.state.start_point+this.state.perpage}),this.loadInvoiceData(),this.loadCustomer(),this.loadSettingsAccnt()}},{key:"componentWillMount",value:function(){this.setState({salesPageOpen:this.props.salesPageOpen})}},{key:"loadInvoiceData",value:function(){var e=this;g.get("invoice/parantdata").then(function(t){e.setState({invoiceData:t.data}),console.log(t.data)})}},{key:"render",value:function(){var e=this;console.log(this.props.invoiceData),console.log(this.props.salesPageOpen),console.log("edit",this.state),console.log("props",this.props);var t=this.state.invoiceData.slice(this.state.start_point,this.state.end_point).map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a+e.state.start_point+1),r.a.createElement("td",null,t.invoice_no),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.customer),r.a.createElement("td",null,t.grant_total),r.a.createElement("td",null,String(t.status)),r.a.createElement("td",null,r.a.createElement("i",{onClick:function(){return e.viewWindowOpen(t.id)},className:"w3-margin-left fa fa-eye"})))});return r.a.createElement("div",{className:"SalesInvoicesWrapper"},this.state.isView?this.viewModal():null,this.state.isDelete?this.deleteModal():null,this.state.isEdit?this.editModal():null,this.props.salesPageOpen?this.salesViewModal():null,this.props.isDeletePage?this.salesDeleteModal():null,this.props.isEditPage?this.salesEditModal():null,r.a.createElement("div",null,r.a.createElement(K,null)),r.a.createElement("div",{className:"SalesInvoiceBox"},r.a.createElement("br",null),r.a.createElement("div",{className:"sales-invoice-filter"},r.a.createElement("div",null,r.a.createElement("label",null,"START DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"start_date",value:this.state.start_date,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",null,r.a.createElement("label",null,"END DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"end_date",value:this.state.end_date,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",null,r.a.createElement("label",null,"COSTUMER"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedName:t.target.value})}},r.a.createElement("option",{value:""}),this.state.customerList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null),r.a.createElement("br",null),r.a.createElement("button",{className:"cancelBtn",onClick:function(t){return e.filterHandler()}},"FILTER"))),r.a.createElement("table",{className:"SalesInvoiceTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SL NO"),r.a.createElement("th",null,"INVOICE No"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"CUSTOMER"),r.a.createElement("th",null,"GRAND TOTAL"),r.a.createElement("th",null,"STATUS"),r.a.createElement("th",null,"VIEW"))),r.a.createElement("tbody",null,this.state.invoiceData.length>0?t:null)),r.a.createElement("br",null),r.a.createElement("div",{className:"pagination"},r.a.createElement(Xe,{item_count:this.state.invoiceData.length,perpage_count:this.state.perpage,page:this.state.curr_page,click:this.pagexClickHandler,prevClick:this.previousClickHandler,nxtClick:this.nextClickHandler,firstClick:this.firstClickHandler,lastClick:this.lastClickHandler,nxtDisabled:this.state.nxtDisabled,prevDisabled:this.state.prevDisabled,firstDisabled:this.state.firstDisabled,lastDisabled:this.state.lastDisabled}))))}}]),t}(n.Component),Ze=Object(m.b)(function(e){return{invoiceData:e.salesInvoice.invoiceData,salesPageOpen:e.salesInvoice.salesPageOpen,isDeletePage:e.salesInvoice.isDeletePage,isEditPage:e.salesInvoice.isEditPage}},function(e){return{salesViewWindowClose:function(){return e({type:"SALES_PAGE_CLOSE"})},salesDeleteWindowOpen:function(){return e({type:"DELETE_WINDOW_OPEN"})},salesDeleteWindowClose:function(){return e({type:"DELETE_WINDOW_CLOSE"})},salesDeleteHandler:function(t){return e(function(e){return console.log(e),function(t){g.delete("/invoice/parantdata/"+e).then(function(e){t((e.data,{type:"DELETE_INVOICE_SUCCESS"}))}).catch(function(e){t({type:"DELETE_INVOICE_FAIL"})})}}(t))},salesEditWindowOpen:function(){return e({type:"EDIT_WINDOW_OPEN"})},salesEditWindowClose:function(){return e({type:"EDIT_WINDOW_CLOSE"})},salseObjEditHandler:function(t){return e(function(e){return function(t){g.patch("/invoice/parantdata/"+e.id+"/",e).then(function(e){t((e.data,{type:"EDIT_INVOICE_SUCCESS"}))}).catch(function(e){t({type:"EDIT_INVOICE_FAIL"})})}}(t))},deleteInvoiceSucces:function(){return e({type:"DELETE_INVOICE_SUCCESS"})},deleteInvoiceFail:function(t){return e({type:"DELETE_INVOICE_FAIL"})},editInvoiceSuccess:function(t){return e({type:"EDIT_INVOICE_SUCCESS"})},editInvoiceFail:function(t){return e({type:"EDIT_INVOICE_FAIL"})}}})($e),et=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={date:new Date,customerList:[],partnerList:[],recieptData:[],serial_no:0,reciept_no:0,holder:[{customer:"",credit_amount:null,debit_amount:0}],narration:"",total:null,accountList:[],customerRecieptPage:!1},a.loadRecieptData=function(){g.get("invoice/customerReceipt/").then(function(e){a.setState({recieptData:e.data}),console.log(e.data)})},a.loadPartner=function(){g.get("invoice/partner/").then(function(e){a.setState({partnerList:e.data.filter(function(e){return"SUPPLIER"!==e.type})})})},a.loadCustomer=function(){g.get("invoice/partner/").then(function(e){a.setState({customerList:e.data.filter(function(e){return"SUPPLIER"!==e.type})}),console.log(e.data)})},a.loadAccount=function(){g.get("/invoice/account/").then(function(e){a.setState({accountList:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.addItemHandler=function(e){a.setState(function(e){return{holder:e.holder.concat({customer:"",credit_amount:null,debit_amount:0})}}),e.preventDefault()},a.removeLineHandler=function(e,t){if(1!==a.state.holder.length){var n=a.state.holder,r=n.filter(function(e,a){return a===t}),l=n.indexOf(r[0]);console.log(l),n.splice(l,1),console.log(n),a.setState({holder:n}),console.log(a.state.holder),a.totalHandler()}e.preventDefault()},a.cancelDataHandler=function(e){e.preventDefault(),a.setState({holder:[{customer:"",credit_amount:null,debit_amount:0}],narration:"",total:null})},a.handlePartnerChange=function(e){return function(t){var n=a.state.holder.map(function(a,n){return e!==n?a:Object(C.a)({},a,{customer:t.target.value})});a.state.holder=Object(Te.a)(n),a.setState({holder:n})}},a.handleSubtotalChange=function(e){return function(t){var n=a.state.holder.map(function(a,n){return e!==n?a:Object(C.a)({},a,{credit_amount:t.target.value})});a.setState({holder:n}),a.state.holder=Object(Te.a)(n),a.totalHandler()}},a.totalHandler=function(){console.log(a.state.holder);var e=[];a.state.holder.map(function(t){if(e.push(Number(t.credit_amount)),console.log(e),0!==e.length){var n=e.reduce(function(e,t){return e+t},0);console.log(n),a.state.total=n}else alert("jjj")})},a.submitDataHandler=function(e){console.log(a.state.holder);var t=a.state.accountList.filter(function(e){return"CASH"===e.type});console.log(a.state.accountList),console.log(t);var n=a.state.accountList.filter(function(e){return e.name===a.state.selectedAcnt}),r={};r.account=n[0].id,r.partner=null,r.debit_amount=a.state.total,r.credit_amount=0,console.log(r);var l=[];a.state.holder.forEach(function(e){var t={};a.state.customerList.forEach(function(a){a.name===e.customer&&(t.account=n[0].id,t.partner=a.id,t.credit_amount=e.credit_amount,t.debit_amount=e.debit_amount,console.log(t),l.push(t))})}),l.push(r),console.log(l);var c={reciept_no:a.state.reciept_no,journal_entry:{date:a.state.date,transaction_type:"COSTOMER_RECIEPT",description:a.state.narration,journal_item:l}};console.log(c),g.post("invoice/customerReceipt/",c).then(function(e){console.log(e.data),a.props.onCreateCustomerReciept(e.data),a.setState({customerRecieptPage:!0})}).catch(function(e){a.props.onCreateCustomerRecieptFail(e)})},a.reciept_noChangeHandler=function(){console.log(a.state.reciept_no);var e=a.state.recieptData.reduce(function(e,t){return(e.reciept_no||0)>t.reciept_no?e:t},{});console.log(e.reciept_no);var t=e.reciept_no;console.log(a.state.recieptData),0===a.state.recieptData.length?a.state.reciept_no=1:a.state.reciept_no=t+1},a.openCustomerRecieptPage=function(){return r.a.createElement(p.a,{to:"/customer-reciepts"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({date:ke()(new Date).format("YYYY-MM-DD")}),this.loadAccount(),this.loadPartner(),this.loadCustomer(),this.loadRecieptData()}},{key:"render",value:function(){var e=this;return console.log(this.state.holder),console.log(this.state.selectedAcnt),r.a.createElement("div",null,this.state.customerRecieptPage?this.openCustomerRecieptPage():null,r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper1"},r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Create Customer Reciept"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,this.reciept_noChangeHandler(),r.a.createElement("label",null,"RECEIPT NO:"),r.a.createElement("br",null),r.a.createElement("input",{readOnly:!0,className:"grand"})),r.a.createElement("div",null,r.a.createElement("label",null,"ACCOUNT"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedAcnt:t.target.value})}},r.a.createElement("option",{value:""}," "),this.state.accountList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"date",value:this.state.date,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null),r.a.createElement("button",{className:"addBtn",onClick:this.addItemHandler},"ADD+"),r.a.createElement("div",{className:"itemBox"},this.state.holder.map(function(t,a){return r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,a+e.state.serial_no+1)),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("select",{className:"select",onClick:e.handlePartnerChange(a)},r.a.createElement("option",null),e.state.partnerList.map(function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"number",value:t.credit_amount,onChange:e.handleSubtotalChange(a),name:"amount",id:"amount"})),r.a.createElement("div",null,r.a.createElement("br",null),e.state.holder.length!==Number(1)?r.a.createElement("div",null,r.a.createElement("i",{onClick:function(t,n){return e.removeLineHandler(t,a)},className:"fas fa-times"})):null))})),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper-btm-reciept"},r.a.createElement("div",null,r.a.createElement("label",null,"NARRATION"),r.a.createElement("br",null),r.a.createElement("input",{className:"narration",name:"narration",onChange:this.handleInputChange,value:this.state.narration})),r.a.createElement("div",null,r.a.createElement("label",null,"TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",value:this.state.total,type:"number",readOnly:!0}))),r.a.createElement("br",null),r.a.createElement("div",{className:"btn-gap-reciept"},r.a.createElement("div",null,r.a.createElement("button",{className:"cancelBtn",onClick:this.state.selectedAcnt?this.submitDataHandler:null},"SAVE")),r.a.createElement("div",null,r.a.createElement("button",{className:"cancelBtn",onClick:function(t){return e.cancelDataHandler(t)}},"CANCEL"))))}}]),t}(n.Component),tt=Object(m.b)(null,function(e){return{onCreateCustomerReciept:function(t){return e(S(t))},onCreateCustomerRecieptFail:function(t){return e({type:"CREATE_CUSTOMER_RECIEPT_FAIL"})}}})(et),at=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(K,null)),r.a.createElement("div",{className:"CreateInvoiceBox"},r.a.createElement(tt,null)),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),nt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={serial_no:0,formData:[],journal_itemList:[],debitJrnlItem:[],creditJrnlItem:[],accntName:""},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.state.journal_itemList),console.log(this.state),console.log(this.props),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Customer Receipt"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"RECEIPT NO :"),this.props.formData.reciept_no),r.a.createElement("div",null,r.a.createElement("p",null,"ACCOUNT:"),0!==this.props.accountList.length?this.props.accountList.filter(function(t){return t.id===e.props.formData.journal_entry.journal_item[0].account})[0].name:null),r.a.createElement("div",null,r.a.createElement("p",null,"DATE:"),this.props.formData.journal_entry.date)),r.a.createElement("br",null),r.a.createElement("table",{className:"tables"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"ths"},"NO"),r.a.createElement("th",{className:"ths"},"partner"),r.a.createElement("th",{className:"ths"},"AMOUNT"))),r.a.createElement("tbody",null,this.props.formData.journal_entry.journal_item.map(function(t,a){return t.credit_amount>Number(0)?r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"tds"},r.a.createElement("input",{size:"5",value:a+e.state.serial_no+1,readOnly:!0})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,value:0!==e.props.partnerList.length?e.props.partnerList.filter(function(e){return e.id===t.partner})[0].name:null})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,value:t.credit_amount}))):null}))),r.a.createElement("div",{className:"invoiceviewbtm"},this.props.formData.journal_entry.journal_item.map(function(e){return e.debit_amount>Number(0)?r.a.createElement("div",null,"TOTAL:",e.debit_amount,r.a.createElement("br",null)):null}),r.a.createElement("p",null,"NARRATION:"),r.a.createElement("p",null,this.props.formData.journal_entry.description)))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-reciept"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:this.props.deletewindow},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),rt=function(e){function t(){var e,a,n;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=(a={serial_no:0,accountList:[],selectedAcnt:null,partnerList:[],total:null,creditJrnlItem:[],debitJrnlItem:[],narration:null,accntName:""},Object(B.a)(a,"creditJrnlItem",[]),Object(B.a)(a,"creditSection",[]),a),n.loadAccount=function(){g.get("/invoice/account/").then(function(e){n.setState({accountList:e.data})})},n.loadPartner=function(){g.get("invoice/partner/").then(function(e){n.setState({partnerList:e.data.filter(function(e){return"SUPPLIER"!==e.type})})})},n.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,a=e.target.value;n.setState(Object(B.a)({},t,a))},n.handlePartnerChange=function(e){return function(t){var a=n.state.creditJrnlItem.map(function(a,n){return e!==n?a:Object(C.a)({},a,{customer:t.target.value})});n.state.creditJrnlItem=Object(Te.a)(a),n.setState({creditJrnlItem:a})}},n.addItemHandler=function(e){n.setState(function(e){return{creditJrnlItem:e.creditJrnlItem.concat({customer:"",credit_amount:null,debit_amount:0})}}),e.preventDefault()},n.removeLineHandler=function(e,t){if(1!==n.state.creditJrnlItem.length){var a=n.state.creditJrnlItem,r=a.filter(function(e,a){return a===t}),l=a.indexOf(r[0]);console.log(l),a.splice(l,1),console.log(a),n.setState({creditJrnlItem:a}),console.log(n.state.creditJrnlItem),n.totalHandler()}e.preventDefault()},n.handleSubtotalChange=function(e){return function(t){var a=n.state.creditJrnlItem.map(function(a,n){return e!==n?a:Object(C.a)({},a,{credit_amount:t.target.value})});n.setState({creditJrnlItem:a}),n.state.creditJrnlItem=Object(Te.a)(a),n.totalHandler()}},n.totalHandler=function(){console.log(n.state.creditJrnlItem);var e=[];n.state.creditJrnlItem.map(function(t){if(e.push(Number(t.credit_amount)),console.log(e),0!==e.length){var a=e.reduce(function(e,t){return e+t},0);console.log(a),n.state.total=a}else alert("jjj")})},n.submitDataHandler=function(e){console.log(n.state.creditJrnlItem);var t=n.state.accountList.filter(function(e){return"CASH"===e.type}),a=n.state.accountList.filter(function(e){return e.name===n.state.selectedAcnt});console.log(n.state.accountList),console.log(t);var r={};r.account=a[0].id,r.partner=null,r.debit_amount=n.state.total,r.credit_amount=0,console.log(r);var l=[];console.log(n.state.selectedAcnt),console.log(a),n.state.creditJrnlItem.forEach(function(e){var t={};n.state.partnerList.forEach(function(n){n.name===e.customer&&(t.account=a[0].id,t.partner=n.id,t.credit_amount=e.credit_amount,t.debit_amount=e.debit_amount,console.log(t),l.push(t))})}),l.push(r),console.log(l);var c={reciept_no:n.state.reciept_no,journal_entry:{date:n.state.date,transaction_type:"COSTOMER_RECIEPT",description:n.state.narration,journal_item:l}};console.log(c),n.props.formData.reciept_no=n.state.reciept_no,n.props.formData.journal_entry.date=n.state.date,n.props.formData.journal_entry.description=n.state.narration,n.props.formData.journal_entry.transaction_type="COSTOMER_RECIEPT",n.props.formData.journal_entry.journal_item=l,n.props.editHandler(e,n.props.formData),console.log(n.props.formData)},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({partnerList:this.props.partnerList,accountList:this.props.accountList,formData:this.props.formData,journal_itemList:this.props.formData.journal_entry.journal_item,debitJrnlItem:this.props.formData.journal_entry.journal_item.filter(function(e){return e.debit_amount>0}),narration:this.props.formData.journal_entry.description,date:this.props.formData.journal_entry.date,reciept_no:this.props.formData.reciept_no});var t=this.props.formData.journal_entry.journal_item.filter(function(e){return e.credit_amount>0}),a=this.props.formData.journal_entry.journal_item.filter(function(e){return e.debit_amount>0});this.setState({total:a[0].debit_amount}),console.log(t[0].id);var n=this.props.accountList.filter(function(e){return e.id===t[0].account});console.log(n),this.setState({selectedAcnt:n[0].name});var r=[];t.forEach(function(t){var a={};e.props.partnerList.forEach(function(e){e.id===t.partner&&(a.customer=e.name,a.credit_amount=t.credit_amount,a.debit_amount=t.debit_amount,r.push(a))})}),this.setState({creditJrnlItem:r})}},{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.props),console.log(this.state),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Customer Receipt"),r.a.createElement("div",{className:"row-wrapper1"}),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"RECEIPT NO:"),r.a.createElement("br",null),r.a.createElement("input",{readOnly:!0,className:"grand",value:this.state.reciept_no})),r.a.createElement("div",null,r.a.createElement("label",null,"ACCOUNT"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedAcnt:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.selectedAcnt),this.state.accountList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"date",value:this.state.date,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null),r.a.createElement("button",{className:"addBtn",onClick:this.addItemHandler},"ADD+"),r.a.createElement("div",{className:"itemBox"},this.state.creditJrnlItem.map(function(t,a){return r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,a+e.state.serial_no+1)),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("select",{className:"select",onClick:e.handlePartnerChange(a)},r.a.createElement("option",null,t.customer),e.state.partnerList.map(function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"number",value:t.credit_amount,onChange:e.handleSubtotalChange(a),name:"amount",id:"amount"})),r.a.createElement("div",null,r.a.createElement("br",null),e.state.creditJrnlItem.length!==Number(1)?r.a.createElement("div",null,r.a.createElement("i",{onClick:function(t,n){return e.removeLineHandler(t,a)},className:"fas fa-times"})):null))})),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper-btm-reciept"},r.a.createElement("div",null,r.a.createElement("label",null,"NARRATION"),r.a.createElement("br",null),r.a.createElement("input",{className:"narration",name:"narration",onChange:this.handleInputChange,value:this.state.narration})),r.a.createElement("div",null,r.a.createElement("label",null,"TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",value:this.state.total,type:"number",readOnly:!0}))),r.a.createElement("br",null),r.a.createElement("div",{className:"btn-gap-reciept"},r.a.createElement("div",null),r.a.createElement("div",null)))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"CANCEL"),r.a.createElement("button",{className:"cancelBtn",onClick:this.state.selectedAcnt?this.submitDataHandler:null},"SAVE"),r.a.createElement(j.b,{to:"/create-reciept"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),lt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selectedAcnt:null},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.accountList.filter(function(t){return t.id===e.props.creditJrnlItem[0].account});console.log(t),this.setState({selectedAcnt:t[0].name})}},{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Customer Reciept"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this  Customer Reciept  ??"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"RECEIPT NO"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"ACCOUNT"),r.a.createElement("th",null,"TOTAL"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.reciept_no),r.a.createElement("td",null,this.props.formData.journal_entry.date),r.a.createElement("td",null,this.state.selectedAcnt),this.props.formData.journal_entry.journal_item.map(function(e){return e.debit_amount>Number(0)?r.a.createElement("td",null,e.debit_amount):null})))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),ct=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={serial_no:0},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Customer Receipt"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"RECEIPT NO :"),this.props.formData.reciept_no),r.a.createElement("div",null,r.a.createElement("p",null,"ACCOUNT:"),this.props.formData.journal_entry.debitJrnlItem.account),r.a.createElement("div",null,r.a.createElement("p",null,"DATE:"),this.props.formData.journal_entry.date)),r.a.createElement("br",null),r.a.createElement("table",{className:"tables"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"ths"},"NO"),r.a.createElement("th",{className:"ths"},"partner"),r.a.createElement("th",{className:"ths"},"AMOUNT"))),r.a.createElement("tbody",null,this.props.formData.journal_entry.creditJrnlItem.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"tds"},r.a.createElement("input",{size:"5",value:a+e.state.serial_no+1,readOnly:!0})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,value:t.partner})),r.a.createElement("td",{className:"tds"},r.a.createElement("input",{readOnly:!0,value:t.credit_amount})))}))),r.a.createElement("div",{className:"invoiceviewbtm"},"TOTAL:",this.props.formData.journal_entry.debitJrnlItem.debit_amount,r.a.createElement("br",null)),r.a.createElement("p",null,"NARRATION:"),r.a.createElement("p",null,this.props.formData.journal_entry.description))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-reciept"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),st=function(e){function t(){var e,a,n;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=(a={serial_no:0,accountList:[],selectedAcnt:null,partnerList:[],total:null,creditJrnlItem:[],debitJrnlItem:[],narration:null,accntName:""},Object(B.a)(a,"creditJrnlItem",[]),Object(B.a)(a,"creditSection",[]),a),n.loadAccount=function(){g.get("/invoice/account/").then(function(e){n.setState({accountList:e.data})})},n.loadPartner=function(){g.get("invoice/partner/").then(function(e){n.setState({partnerList:e.data.filter(function(e){return"SUPPLIER"!==e.type})})})},n.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,a=e.target.value;n.setState(Object(B.a)({},t,a))},n.handlePartnerChange=function(e){return function(t){var a=n.state.creditJrnlItem.map(function(a,n){return e!==n?a:Object(C.a)({},a,{partner:t.target.value})});n.state.creditJrnlItem=Object(Te.a)(a),n.setState({creditJrnlItem:a})}},n.addItemHandler=function(e){n.setState(function(e){return{creditJrnlItem:e.creditJrnlItem.concat({account:null,partner:"",credit_amount:null,debit_amount:0})}}),e.preventDefault()},n.removeLineHandler=function(e,t){if(1!==n.state.creditJrnlItem.length){var a=n.state.creditJrnlItem,r=a.filter(function(e,a){return a===t}),l=a.indexOf(r[0]);console.log(l),a.splice(l,1),console.log(a),n.setState({creditJrnlItem:a}),console.log(n.state.creditJrnlItem),n.totalHandler()}e.preventDefault()},n.handleSubtotalChange=function(e){return function(t){var a=n.state.creditJrnlItem.map(function(a,n){return e!==n?a:Object(C.a)({},a,{credit_amount:t.target.value})});n.setState({creditJrnlItem:a}),n.state.creditJrnlItem=Object(Te.a)(a),n.totalHandler()}},n.totalHandler=function(){console.log(n.state.creditJrnlItem);var e=[];n.state.creditJrnlItem.map(function(t){if(e.push(Number(t.credit_amount)),console.log(e),0!==e.length){var a=e.reduce(function(e,t){return e+t},0);console.log(a),n.state.total=a}else alert("jjj")})},n.submitDataHandler=function(e){console.log(n.state.creditJrnlItem),console.log(n.state.debitJrnlItem),n.props.formData.journal_entry.creditJrnlItem=n.state.creditJrnlItem,n.props.formData.journal_entry.debitJrnlItem.debit_amount=n.state.total;var t=n.state.accountList.filter(function(e){return"CASH"===e.type}),a=n.state.accountList.filter(function(e){return e.name===n.state.selectedAcnt});console.log(n.state.accountList),console.log(t);var r={};r.account=a[0].id,r.partner=null,r.debit_amount=n.state.total,r.credit_amount=0,console.log(r);var l=[];console.log(n.state.selectedAcnt),console.log(a),n.state.creditJrnlItem.forEach(function(e){var t={};n.state.partnerList.forEach(function(n){n.name===e.partner&&(t.account=a[0].id,t.partner=n.id,t.credit_amount=e.credit_amount,t.debit_amount=e.debit_amount,console.log(t),l.push(t))})}),l.push(r),console.log(l);var c={reciept_no:n.state.reciept_no,journal_entry:{date:n.state.date,transaction_type:"COSTOMER_RECIEPT",description:n.state.narration,journal_item:l}};console.log(c),n.props.formData.reciept_no=n.state.reciept_no,n.props.formData.journal_entry.description=n.state.narration,n.props.formData.journal_entry.debitJrnlItem.account=a[0].name,n.props.formData.journal_entry.date=n.state.date,n.props.formData.journal_entry.transaction_type="COSTOMER_RECIEPT",n.props.formData.journal_entry.journal_item=l,n.props.editHandler(e,n.props.formData),console.log(n.props.formData)},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({partnerList:this.props.partnerList,accountList:this.props.accountList,formData:this.props.formData,debitJrnlItem:this.props.formData.journal_entry.debitJrnlItem,creditJrnlItem:this.props.formData.journal_entry.creditJrnlItem,narration:this.props.formData.journal_entry.description,date:this.props.formData.journal_entry.date,reciept_no:this.props.formData.reciept_no,total:this.props.formData.journal_entry.debitJrnlItem.debit_amount});var e=this.props.formData.journal_entry.creditJrnlItem;this.props.formData.journal_entry.debitJrnlItem;console.log(e[0].id);var t=this.props.accountList.filter(function(t){return t.name===e[0].account});console.log(t),this.setState({selectedAcnt:t[0].name})}},{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.props),console.log(this.state),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Customer Receipt"),r.a.createElement("div",{className:"row-wrapper1"}),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"RECEIPT NO:"),r.a.createElement("br",null),r.a.createElement("input",{readOnly:!0,className:"grand",value:this.state.reciept_no})),r.a.createElement("div",null,r.a.createElement("label",null,"ACCOUNT"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedAcnt:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.selectedAcnt),this.state.accountList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"date",value:this.state.date,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null),r.a.createElement("button",{className:"addBtn",onClick:this.addItemHandler},"ADD+"),r.a.createElement("div",{className:"itemBox"},this.state.creditJrnlItem.map(function(t,a){return r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,a+e.state.serial_no+1)),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("select",{className:"select",onClick:e.handlePartnerChange(a)},r.a.createElement("option",null,t.partner),e.state.partnerList.map(function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"number",value:t.credit_amount,onChange:e.handleSubtotalChange(a),name:"amount",id:"amount"})),r.a.createElement("div",null,r.a.createElement("br",null),e.state.creditJrnlItem.length!==Number(1)?r.a.createElement("div",null,r.a.createElement("i",{onClick:function(t,n){return e.removeLineHandler(t,a)},className:"fas fa-times"})):null))})),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper-btm-reciept"},r.a.createElement("div",null,r.a.createElement("label",null,"NARRATION"),r.a.createElement("br",null),r.a.createElement("input",{className:"narration",name:"narration",onChange:this.handleInputChange,value:this.state.narration})),r.a.createElement("div",null,r.a.createElement("label",null,"TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",value:this.state.total,type:"number",readOnly:!0}))),r.a.createElement("br",null),r.a.createElement("div",{className:"btn-gap-reciept"},r.a.createElement("div",null),r.a.createElement("div",null)))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"CANCEL"),r.a.createElement("button",{className:"cancelBtn",onClick:this.state.selectedAcnt?this.submitDataHandler:null},"SAVE"),r.a.createElement(j.b,{to:"/create-reciept"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),ot=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Customer Reciept"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this Customer Reciept ?"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"INVOICE NO"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"CUSTOMER"),r.a.createElement("th",null,"TOTAL"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.reciept_no),r.a.createElement("td",null,this.props.formData.journal_entry.date),r.a.createElement("td",null,this.props.formData.journal_entry.creditJrnlItem[0].account),r.a.createElement("td",null,this.props.formData.journal_entry.debitJrnlItem.debit_amount)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),it=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={recieptData:[],accountList:[],expenseAccnts:[],partnerList:[],isEdit:!1,invoice_number:null,isDelete:!1,deleteId:null,editId:null,isView:!1,formData:[],editObject:[],selectedName:null,start_date:new Date,end_date:new Date,perpage:10,curr_page:1,start_point:0,end_point:null,prevDisabled:!0,nxtDisabled:!1,firstDisabled:!0,lastDisabled:!1},a.loadPartner=function(){g.get("invoice/partner/").then(function(e){a.setState({partnerList:e.data.filter(function(e){return"SUPPLIER"!==e.type})})})},a.loadRecieptData=function(){g.get("invoice/customerReceipt/").then(function(e){a.setState({creditJrnlItem:e.data.map(function(e){return e.journal_entry.journal_item.filter(function(e){return e.credit_amount>0})}),debitJrnlItem:e.data.map(function(e){return e.journal_entry.journal_item.filter(function(e){return e.debit_amount>0})})}),a.RecieptDataHandler(e.data),console.log(e.data)})},a.RecieptDataHandler=function(e){console.log(e),e.map(function(e,t){var n=[],r=[];e.journal_entry.journal_item.map(function(e,t){a.state.accountList.map(function(t,a){t.id===e.account&&(e.account=t.name)}),a.state.partnerList.map(function(t,a){t.id===e.partner&&(e.partner=t.name)}),e.credit_amount>0?n.push(e):r=e}),e.journal_entry.journal_item=null,e.journal_entry.creditJrnlItem=n,e.journal_entry.debitJrnlItem=r}),console.log(e),a.setState({recieptData:e})},a.loadAccount=function(){g.get("/invoice/account/").then(function(e){a.setState({accountList:e.data,expenseAccnts:e.data.filter(function(e){return"EXPENSE"===e.type})})})},a.pagexClickHandler=function(e){console.log(e);var t=a.state.recieptData.length,n=a.state.perpage,r=Math.ceil(t/n),l=(e-1)*n,c=e<r||t%n===0?l+n:l+t%n;1===e?a.setState({prevDisabled:!0,firstDisabled:!0,nxtDisabled:!1,lastDisabled:!1}):e===r?a.setState({nxtDisabled:!0,lastDisabled:!0,prevDisabled:!1,firstDisabled:!1}):a.setState({nxtDisabled:!1,prevDisabled:!1,firstDisabled:!1,lastDisabled:!1}),a.setState({curr_page:e,start_point:l,end_point:c})},a.previousClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(a.state.curr_page-1)},a.nextClickHandler=function(){var e=a.state.recieptData.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(a.state.curr_page+1)},a.firstClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(1)},a.lastClickHandler=function(){var e=a.state.recieptData.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(t)},a.viewWindowOpen=function(e){var t=a.state.recieptData.filter(function(t){return t.id===e});console.log(t),console.log(t[0]),a.setState({isView:!0,viewObject:t[0]})},a.viewWindowClose=function(){a.setState({isView:!1,viewObject:{}})},a.deleteWindowOpen=function(e,t){e.preventDefault(),a.setState({isDelete:!0,deleteId:t})},a.deleteWindowClose=function(){a.setState({isDelete:!1})},a.editWindowOpen=function(e,t){e.preventDefault();var n=a.state.recieptData.filter(function(e){return e.id===t});console.log(n),n[0].journal_entry.creditJrnlItem.map(function(e){delete e.id,delete e.journal_entry}),delete n[0].journal_entry.debitJrnlItem.id,delete n[0].journal_entry.debitJrnlItem.journal_entry,console.log(n[0]),a.setState({isEdit:!0,editObject:n[0],editId:t}),console.log(n[0])},a.editWindowClose=function(){a.setState({isEdit:!1,editObject:{}})},a.deleteHandler=function(e){var t=a.state.deleteId,n=a.state.recieptData,r=a.state.recieptData.filter(function(e){return e.id===t}),l=n.indexOf(r[0]);g.delete("invoice/customerReceipt/"+t).then(function(e){n.splice(l,1),a.setState({recieptData:n,isDelete:!1,isView:!1})})},a.objEditHandler=function(e,t){console.log(t),e.preventDefault(),g.patch("/invoice/customerReceipt/"+t.id+"/",t).then(function(e){console.log(e.data),a.setState({isEdit:!1}),a.viewWindowOpen(t.id)})},a.viewModal=function(){return r.a.createElement(ct,{show:a.state.isView,close:a.viewWindowClose,formData:a.state.viewObject,deletewindow:a.deleteWindowOpen,editwindow:a.editWindowOpen})},a.editModal=function(){return r.a.createElement(st,{show:a.state.isEdit,close:a.editWindowClose,formData:a.state.editObject,editId:a.state.editId,editHandler:a.objEditHandler,accountList:a.state.accountList,partnerList:a.state.partnerList})},a.deleteModal=function(){return r.a.createElement(ot,{show:a.state.isDelete,close:a.deleteWindowClose,deleteHandler:a.deleteHandler,formData:a.state.viewObject})},a.spotViewModal=function(){return r.a.createElement(nt,{show:a.props.customerRecieptPageOpen,close:a.props.spotViewWindowOpen,formData:a.props.recieptData,accountList:a.state.accountList,partnerList:a.state.partnerList,editwindow:a.props.spotEditWindowOpen,deletewindow:a.props.spotDeleteWindowOpen,debitJrnlItem:a.props.debitJrnlItem,creditJrnlItem:a.props.creditJrnlItem})},a.spotEditModal=function(){return console.log("aaaa"),r.a.createElement(rt,{show:a.props.isEditPage,close:a.props.spotEditWindowClose,formData:a.props.recieptData,editId:a.state.editId,accountList:a.state.accountList,partnerList:a.state.partnerList,editHandler:a.spotObjEditHandler,debitJrnlItem:a.props.debitJrnlItem,creditJrnlItem:a.props.creditJrnlItem})},a.spotDeletModal=function(){return r.a.createElement(lt,{show:a.props.isDeletePage,close:a.props.spotDeleteWindowClose,formData:a.props.recieptData,accountList:a.state.accountList,partnerList:a.state.partnerList,deleteHandler:a.spotObjDeleteHandler,debitJrnlItem:a.props.debitJrnlItem,creditJrnlItem:a.props.creditJrnlItem})},a.spotObjDeleteHandler=function(e){console.log(e);var t=a.state.recieptData;console.log(t);var n=t,r=a.state.recieptData.filter(function(t){return t.id===e});console.log(r);var l=n.indexOf(r[0]);console.log(l),g.delete("/invoice/customerReceipt/"+e).then(function(e){console.log(e.data),n.splice(l,1),a.setState({recieptData:n}),a.props.deleteCustomerRecieptSuccess()}).catch(function(e){a.props.deleteCustomerRecieptFail(e)})},a.spotObjEditHandler=function(e,t){var n=[];n.push(t),console.log(n),g.patch("/invoice/customerReceipt/"+t.id+"/",t).then(function(e){console.log(e.data),a.props.editCustomerRecieptSuccess(e.data),console.log(t);var n=[];n.push(e.data),console.log(n),console.log(a.state.recieptData),n.map(function(e,t){var n=[],r=[];e.journal_entry.journal_item.map(function(e,t){a.state.accountList.map(function(t,a){t.id===e.account&&(e.account=t.name)}),a.state.partnerList.map(function(t,a){t.id===e.partner&&(e.partner=t.name)}),e.credit_amount>0?n.push(e):r=e}),e.journal_entry.journal_item=null,e.journal_entry.creditJrnlItem=n,e.journal_entry.debitJrnlItem=r}),console.log(n);var r=a.state.recieptData.map(function(e){return n.find(function(t){return t.id===e.id})||e});console.log(n),a.setState({recieptData:r})}).catch(function(e){console.log(e),a.props.editCustomerRecieptFail(e)})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.filterHandler=function(e){null===a.state.selectedName?g.get("invoice/customerReceipt/?start_date="+a.state.start_date+"&end_date="+a.state.end_date).then(function(e){console.log(e.data),a.RecieptDataHandler(e.data)}):g.get("invoice/customerReceipt/?start_date="+a.state.start_date+"&end_date="+a.state.end_date+"&ExpenseAcct="+a.state.expenseAccnts.filter(function(e){return e.name===a.state.selectedName})[0].id).then(function(e){console.log(e.data),a.RecieptDataHandler(e.data)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({start_date:ke()(new Date).format("YYYY-MM-DD"),end_date:ke()(new Date).format("YYYY-MM-DD"),end_point:this.state.start_point+this.state.perpage}),this.loadRecieptData(),this.loadAccount(),this.loadPartner()}},{key:"render",value:function(){var e=this;console.log(this.props.isEditPage),console.log(this.props),console.log(this.state);var t=this.state.recieptData.slice(this.state.start_point,this.state.end_point).map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a+e.state.start_point+1),r.a.createElement("td",null,t.reciept_no),r.a.createElement("td",null,t.journal_entry.date),r.a.createElement("td",null,t.journal_entry.debitJrnlItem.account),r.a.createElement("td",null,t.journal_entry.debitJrnlItem.debit_amount),r.a.createElement("td",null,r.a.createElement("i",{onClick:function(){return e.viewWindowOpen(t.id)},className:"w3-margin-left fa fa-eye"})))});return r.a.createElement("div",null,this.state.isView?this.viewModal():null,this.state.isDelete?this.deleteModal():null,this.state.isEdit?this.editModal():null,this.props.customerRecieptPageOpen?this.spotViewModal():null,this.props.isEditPage?this.spotEditModal():null,this.props.isDeletePage?this.spotDeletModal():null,"Customer Reciept List",r.a.createElement("br",null),r.a.createElement("div",{className:"sales-invoice-filter"},r.a.createElement("div",null,r.a.createElement("label",null,"START DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"start_date",value:this.state.start_date,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",null,r.a.createElement("label",null,"END DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"end_date",value:this.state.end_date,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",null,r.a.createElement("label",null),r.a.createElement("br",null),r.a.createElement("button",{className:"cancelBtn",onClick:function(t){return e.filterHandler()}},"FILTER"))),r.a.createElement("table",{className:"SalesInvoiceTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SL NO"),r.a.createElement("th",null,"RECIEPT No"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"CUSTOMER"),r.a.createElement("th",null,"AMOUNT"),r.a.createElement("th",null,"VIEW"))),r.a.createElement("tbody",null,this.state.recieptData.length>0?t:null)),r.a.createElement("br",null),r.a.createElement("div",{className:"pagination"},r.a.createElement(Xe,{item_count:this.state.recieptData.length,perpage_count:this.state.perpage,page:this.state.curr_page,click:this.pagexClickHandler,prevClick:this.previousClickHandler,nxtClick:this.nextClickHandler,firstClick:this.firstClickHandler,lastClick:this.lastClickHandler,nxtDisabled:this.state.nxtDisabled,prevDisabled:this.state.prevDisabled,firstDisabled:this.state.firstDisabled,lastDisabled:this.state.lastDisabled})))}}]),t}(n.Component),ut=Object(m.b)(function(e){return{recieptData:e.reciept.recieptData,customerRecieptPageOpen:e.reciept.customerRecieptPageOpen,isDeletePage:e.reciept.isDeletePage,isEditPage:e.reciept.isEditPage,debitJrnlItem:e.reciept.debitJrnlItem,creditJrnlItem:e.reciept.creditJrnlItem}},function(e){return{spotViewWindowOpen:function(){return e({type:"CUSTOMER_RECIEPT_PAGE_CLOSE"})},spotEditWindowOpen:function(){return e({type:"CUSTOMER_RECIEPT_EDIT_WINDOW_OPEN"})},spotEditWindowClose:function(){return e({type:"CUSTOMER_RECIEPT_EDIT_WINDOW_CLOSE"})},spotDeleteWindowOpen:function(){return e({type:"CUSTOMER_RECIEPT_DELETE_WINDOW_OPEN"})},spotDeleteWindowClose:function(){return e({type:"CUSTOMER_RECIEPT_DELETE_WINDOW_CLOSE"})},spotObjEditHandler:function(t){return e(function(e){return function(t){g.patch("/invoice/customerReceipt/"+e.id+"/",e).then(function(e){t((e.data,{type:"EDIT_CUSTOMER_RECIEPT_SUCCESS"}))}).catch(function(e){t({type:"EDIT_CUSTOMER_RECIEPT_FAIL"})})}}(t))},spotObjDeleteHandler:function(t){return e(function(e){return function(t){g.delete("/invoice/customerReceipt/"+e).then(function(e){t({type:"CUSTOMER_RECIEPT_DELETE_SUCCESS"})}).catch(function(e){t({type:"CUSTOMER_RECIEPT_DELETE_FAIL"})})}}(t))},deleteCustomerRecieptSuccess:function(){return e({type:"CUSTOMER_RECIEPT_DELETE_SUCCESS"})},deleteCustomerRecieptFail:function(t){return e({type:"CUSTOMER_RECIEPT_DELETE_FAIL"})},editCustomerRecieptSuccess:function(t){return e({type:"EDIT_CUSTOMER_RECIEPT_SUCCESS"})},editCustomerRecieptFail:function(t){return e({type:"EDIT_CUSTOMER_RECIEPT_FAIL"})}}})(it),dt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"SalesInvoicesWrapper"},r.a.createElement("div",null,r.a.createElement(K,null)),r.a.createElement("div",{className:"SalesInvoiceBox"},r.a.createElement(ut,null)))}}]),t}(n.Component),pt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.state),console.log(this.props),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Expenses View"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"DOC NO :"),this.props.formData.Doc_no),r.a.createElement("div",null,r.a.createElement("p",null,"CATOGORY:"),0!==this.props.categoryList.length?this.props.categoryList.filter(function(t){return t.id===e.props.formData.ExpenseCategory})[0].name:null),r.a.createElement("div",null,r.a.createElement("p",null,"DATE:"),this.props.formData.Date)),r.a.createElement("br",null),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"EXPENSE ACCOUNT :"),0!==this.props.expenseAccnts.length?this.props.expenseAccnts.filter(function(t){return t.id===e.props.formData.ExpenseAcct})[0].name:null),r.a.createElement("div",null,r.a.createElement("p",null,"CASH ACCOUNT:"),0!==this.props.cashAccnts.length?this.props.cashAccnts.filter(function(t){return t.id===e.props.formData.CreditAcct})[0].name:null),r.a.createElement("div",null,r.a.createElement("p",null,"TOTAL:"),this.props.formData.Amount)),r.a.createElement("p",null,"NARRATION:"),r.a.createElement("p",null,this.props.formData.journal_entry.description))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-expense"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:this.props.deletewindow},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),mt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Expense"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this Expense ??"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Doc NO"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"TOTAL"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.Doc_no),r.a.createElement("td",null,this.props.formData.Date),r.a.createElement("td",null,this.props.categoryList.filter(function(t){return t.id===e.props.formData.ExpenseCategory})[0].name),r.a.createElement("td",null,this.props.formData.Amount)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),Et=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={categoryList:[],cashAccnts:[],expenseAccnts:[],date:new Date,cashAmount:null,narration:"",selectedCategory:"",selectedExpnseAcccnt:"",selectedCashAccnt:""},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(e){var t=a.state.categoryList.filter(function(e){return e.name===a.state.selectedCategory}),n=a.state.expenseAccnts.filter(function(e){return e.name===a.state.selectedExpnseAcccnt}),r=a.state.cashAccnts.filter(function(e){return e.name===a.state.selectedCashAccnt}),l={};l.account=n[0].id,l.partner=null,l.debit_amount=a.state.cashAmount,l.credit_amount=0;var c={};c.account=r[0].id,c.partner=null,c.debit_amount=0,c.credit_amount=a.state.cashAmount;var s=[];s.push(c),s.push(l),console.log(s);var o={id:a.props.formData.id,Doc_no:a.state.Doc_no,Date:a.state.date,Amount:a.state.cashAmount,ExpenseCategory:t[0].id,ExpenseAcct:n[0].id,CreditAcct:r[0].id,journal_entry:{date:a.state.date,transaction_type:"EXPENSE",description:a.state.narration,journal_item:s}};console.log(o),a.props.formData.Doc_no=a.state.Doc_no,a.props.formData.Date=a.state.date,a.props.formData.Amount=a.state.cashAmount,a.props.formData.ExpenseCategory=t[0].id,a.props.formData.ExpenseAcct=n[0].id,a.props.formData.CreditAcct=r[0].id,a.props.formData.journal_entry.date=a.state.date,a.props.formData.journal_entry.transaction_type="EXPENSE",a.props.formData.journal_entry.description=a.state.narration,a.props.formData.journal_entry.journal_item=s,a.props.editHandler(e,o),console.log(a.props.formData)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({categoryList:this.props.categoryList,cashAccnts:this.props.cashAccnts,expenseAccnts:this.props.expenseAccnts,formData:this.props.formData,date:this.props.formData.Date,narration:this.props.formData.journal_entry.description,selectedCategory:this.props.categoryList.filter(function(t){return t.id===e.props.formData.ExpenseCategory})[0].name,selectedExpnseAcccnt:this.props.expenseAccnts.filter(function(t){return t.id===e.props.formData.ExpenseAcct})[0].name,selectedCashAccnt:this.props.cashAccnts.filter(function(t){return t.id===e.props.formData.CreditAcct})[0].name,Doc_no:this.props.formData.Doc_no,cashAmount:this.props.formData.Amount})}},{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Customer Receipt"),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"DOC NO:"),r.a.createElement("br",null),r.a.createElement("input",{readOnly:!0,className:"grand",value:this.state.Doc_no})),r.a.createElement("div",null,r.a.createElement("label",null,"CATEGORY"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCategory:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.selectedCategory),this.state.categoryList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"date",value:this.state.date,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"EXPENSE ACCOUNT:"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedExpnseAcccnt:t.target.value})}},r.a.createElement("option",{value:""},this.state.selectedExpnseAcccnt),this.state.expenseAccnts.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)})),"            "),r.a.createElement("div",null,r.a.createElement("label",null,"Cash Account"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCashAccnt:t.target.value})}},r.a.createElement("option",{value:""},this.state.selectedCashAccnt),this.state.cashAccnts.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.cashAmount,onChange:this.handleInputChange,className:"grand",type:"number",name:"cashAmount"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("label",null,"NARRATION"),r.a.createElement("br",null),r.a.createElement("input",{className:"narration",name:"narration",onChange:this.handleInputChange,value:this.state.narration})),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.submitDataHandler},"SAVE"),r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"Cancel"),r.a.createElement(j.b,{to:"/create-expense"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),ht=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Expense View"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"DOC NO :"),this.props.formData.Doc_no),r.a.createElement("div",null,r.a.createElement("p",null,"CATOGORY:"),this.props.formData.ExpenseCategory),r.a.createElement("div",null,r.a.createElement("p",null,"DATE:"),this.props.formData.Date)),r.a.createElement("br",null),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"EXPENSE ACCOUNT :"),this.props.formData.ExpenseAcct),r.a.createElement("div",null,r.a.createElement("p",null,"CASH ACCOUNT:"),this.props.formData.CreditAcct),r.a.createElement("div",null,r.a.createElement("p",null,"TOTAL:"),this.props.formData.Amount)),r.a.createElement("p",null,"NARRATION:"),r.a.createElement("p",null,this.props.formData.journal_entry.description))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-reciept"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),ft=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={categoryList:[],cashAccnts:[],expenseAccnts:[],date:new Date,cashAmount:null,narration:"",selectedCategory:"",selectedExpnseAcccnt:"",selectedCashAccnt:""},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(e){var t=a.state.categoryList.filter(function(e){return e.name===a.state.selectedCategory}),n=a.state.expenseAccnts.filter(function(e){return e.name===a.state.selectedExpnseAcccnt}),r=a.state.cashAccnts.filter(function(e){return e.name===a.state.selectedCashAccnt}),l={};l.account=n[0].id,l.partner=null,l.debit_amount=a.state.cashAmount,l.credit_amount=0;var c={};c.account=r[0].id,c.partner=null,c.debit_amount=0,c.credit_amount=a.state.cashAmount;var s=[];s.push(c),s.push(l),console.log(s);var o={id:a.props.formData.id,Doc_no:a.state.Doc_no,Date:a.state.date,Amount:a.state.cashAmount,ExpenseCategory:t[0].id,ExpenseAcct:n[0].id,CreditAcct:r[0].id,journal_entry:{date:a.state.date,transaction_type:"EXPENSE",description:a.state.narration,journal_item:s}};console.log(o),a.props.formData.Doc_no=a.state.Doc_no,a.props.formData.Date=a.state.date,a.props.formData.Amount=a.state.cashAmount,a.props.formData.ExpenseCategory=a.state.selectedCategory,a.props.formData.ExpenseAcct=a.state.selectedExpnseAcccnt,a.props.formData.CreditAcct=a.state.selectedCashAccnt,a.props.formData.journal_entry.date=a.state.date,a.props.formData.journal_entry.transaction_type="EXPENSE",a.props.formData.journal_entry.description=a.state.narration,a.props.formData.journal_entry.journal_item=s,a.props.editHandler(e,o),console.log(a.props.formData)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({categoryList:this.props.categoryList,cashAccnts:this.props.cashAccnts,expenseAccnts:this.props.expenseAccnts,formData:this.props.formData,date:this.props.formData.Date,narration:this.props.formData.journal_entry.description,selectedCategory:this.props.formData.ExpenseCategory,selectedExpnseAcccnt:this.props.formData.ExpenseAcct,selectedCashAccnt:this.props.formData.CreditAcct,Doc_no:this.props.formData.Doc_no,cashAmount:this.props.formData.Amount})}},{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Customer Receipt"),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"DOC NO:"),r.a.createElement("br",null),r.a.createElement("input",{readOnly:!0,className:"grand",value:this.state.Doc_no})),r.a.createElement("div",null,r.a.createElement("label",null,"CATEGORY"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCategory:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.selectedCategory),this.state.categoryList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"date",value:this.state.date,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"EXPENSE ACCOUNT:"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedExpnseAcccnt:t.target.value})}},r.a.createElement("option",{value:""},this.state.selectedExpnseAcccnt),this.state.expenseAccnts.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)})),"            "),r.a.createElement("div",null,r.a.createElement("label",null,"Cash Account"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCashAccnt:t.target.value})}},r.a.createElement("option",{value:""},this.state.selectedCashAccnt),this.state.cashAccnts.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.cashAmount,onChange:this.handleInputChange,className:"grand",type:"number",name:"cashAmount"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("label",null,"NARRATION"),r.a.createElement("br",null),r.a.createElement("input",{className:"narration",name:"narration",onChange:this.handleInputChange,value:this.state.narration})),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.submitDataHandler},"SAVE"),r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"Cancel"),r.a.createElement(j.b,{to:"/create-expense"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),gt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Expense"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this Expense ??"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Doc NO"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"TOTAL"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.Doc_no),r.a.createElement("td",null,this.props.formData.Date),r.a.createElement("td",null,this.props.formData.ExpenseCategory),r.a.createElement("td",null,this.props.formData.Amount)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),bt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={expenseDataList:[],categoryList:[],accountList:[],cashAccnts:[],expenseAccnts:[],start_date:new Date,end_date:new Date,selectedName:null,perpage:10,curr_page:1,start_point:0,end_point:null,prevDisabled:!0,nxtDisabled:!1,firstDisabled:!0,lastDisabled:!1},a.loadExpenseCategory=function(){g.get("/invoice/expense-category/").then(function(e){a.setState({categoryList:e.data})})},a.loadAccount=function(){g.get("/invoice/account/").then(function(e){a.setState({accountList:e.data})})},a.loadExpenseAccnts=function(){g.get("/invoice/account/?search=EXPENSE").then(function(e){a.setState({expenseAccnts:e.data})})},a.loadCashAccnts=function(){g.get("/invoice/account/?search=CASH").then(function(e){a.setState({cashAccnts:e.data})})},a.loadExpenseData=function(){g.get("/invoice/expenses/").then(function(e){a.setState({creditJrnlItem:e.data.map(function(e){return e.journal_entry.journal_item.filter(function(e){return e.credit_amount>0})}),debitJrnlItem:e.data.map(function(e){return e.journal_entry.journal_item.filter(function(e){return e.debit_amount>0})})}),a.ExpenseDataHandlers(e.data)})},a.ExpenseDataHandlers=function(e){console.log(e),e.map(function(e,t){var n=[],r=[],l="";e.ExpenseAcct=l,e.CreditAcct=l,console.log(e),e.journal_entry.journal_item.map(function(t,c){a.state.accountList.map(function(e,a){e.id===t.account&&(t.account=e.name,l=e.name)}),t.credit_amount>0?(n=t,e.CreditAcct=l):(r=t,e.ExpenseAcct=l)}),e.journal_entry.journal_item=null,e.journal_entry.creditJrnlItem=n,e.journal_entry.debitJrnlItem=r,a.state.categoryList.map(function(t,a){console.log(e),e.ExpenseCategory===t.id&&(e.ExpenseCategory=t.name)})}),console.log(e),a.setState({expenseDataList:e})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.pagexClickHandler=function(e){console.log(e);var t=a.state.expenseDataList.length,n=a.state.perpage,r=Math.ceil(t/n),l=(e-1)*n,c=e<r||t%n===0?l+n:l+t%n;1===e?a.setState({prevDisabled:!0,firstDisabled:!0,nxtDisabled:!1,lastDisabled:!1}):e===r?a.setState({nxtDisabled:!0,lastDisabled:!0,prevDisabled:!1,firstDisabled:!1}):a.setState({nxtDisabled:!1,prevDisabled:!1,firstDisabled:!1,lastDisabled:!1}),a.setState({curr_page:e,start_point:l,end_point:c})},a.previousClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(a.state.curr_page-1)},a.nextClickHandler=function(){var e=a.state.expenseDataList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(a.state.curr_page+1)},a.firstClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(1)},a.lastClickHandler=function(){var e=a.state.expenseDataList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(t)},a.viewWindowOpen=function(e){var t=a.state.expenseDataList.filter(function(t){return t.id===e});console.log(t),console.log(t[0]),a.setState({isView:!0,viewObject:t[0]})},a.viewWindowClose=function(){a.setState({isView:!1,viewObject:{}})},a.deleteWindowOpen=function(e,t){e.preventDefault(),a.setState({isDelete:!0,deleteId:t})},a.deleteWindowClose=function(){a.setState({isDelete:!1})},a.editWindowOpen=function(e,t){e.preventDefault();var n=a.state.expenseDataList.filter(function(e){return e.id===t});console.log(n),delete n[0].journal_entry.creditJrnlItem.id,delete n[0].journal_entry.creditJrnlItem.journal_entry,delete n[0].journal_entry.debitJrnlItem.id,delete n[0].journal_entry.debitJrnlItem.journal_entry,console.log(n[0]),a.setState({isEdit:!0,editObject:n[0],editId:t}),console.log(n[0])},a.editWindowClose=function(){a.setState({isEdit:!1,editObject:{}})},a.deleteHandler=function(e){var t=a.state.deleteId,n=a.state.expenseDataList,r=a.state.expenseDataList.filter(function(e){return e.id===t}),l=n.indexOf(r[0]);g.delete("invoice/expenses/"+t).then(function(e){n.splice(l,1),a.setState({expenseDataList:n,isDelete:!1,isView:!1})})},a.objEditHandler=function(e,t){console.log(t),e.preventDefault(),g.patch("/invoice/expenses/"+t.id+"/",t).then(function(e){console.log(e.data),a.setState({isEdit:!1}),a.viewWindowOpen(t.id)})},a.viewModal=function(){return r.a.createElement(ht,{show:a.state.isView,close:a.viewWindowClose,formData:a.state.viewObject,deletewindow:a.deleteWindowOpen,editwindow:a.editWindowOpen})},a.editModal=function(){return r.a.createElement(ft,{show:a.state.isEdit,close:a.editWindowClose,formData:a.state.editObject,editId:a.state.editId,editHandler:a.objEditHandler,categoryList:a.state.categoryList,cashAccnts:a.state.cashAccnts,expenseAccnts:a.state.expenseAccnts})},a.deleteModal=function(){return r.a.createElement(gt,{show:a.state.isDelete,close:a.deleteWindowClose,deleteHandler:a.deleteHandler,formData:a.state.viewObject})},a.spotViewModal=function(){return r.a.createElement(pt,{show:a.props.expenseListPageOpen,close:a.props.spotViewWindowOpen,formData:a.props.expenseData,categoryList:a.state.categoryList,cashAccnts:a.state.cashAccnts,expenseAccnts:a.state.expenseAccnts,editwindow:a.props.spotEditWindowOpen,deletewindow:a.props.spotDeleteWindowOpen})},a.spotEditModal=function(){return r.a.createElement(Et,{show:a.props.isEditPage,close:a.props.spotEditWindowClose,formData:a.props.expenseData,editId:a.state.editId,categoryList:a.state.categoryList,cashAccnts:a.state.cashAccnts,expenseAccnts:a.state.expenseAccnts,editHandler:a.spotObjEditHandler})},a.spotDeletModal=function(){return r.a.createElement(mt,{show:a.props.isDeletePage,close:a.props.spotDeleteWindowClose,formData:a.props.expenseData,categoryList:a.state.categoryList,cashAccnts:a.state.cashAccnts,expenseAccnts:a.state.expenseAccnts,deleteHandler:a.spotObjDeleteHandler})},a.spotObjDeleteHandler=function(e){console.log(e);var t=a.state.expenseDataList;console.log(t);var n=t,r=a.state.expenseDataList.filter(function(t){return t.id===e});console.log(r);var l=n.indexOf(r[0]);console.log(l),g.delete("/invoice/expenses/"+e).then(function(e){console.log(e.data),n.splice(l,1),a.setState({expenseDataList:n}),a.props.deleteExpenseSuccess()}).catch(function(e){a.props.deleteExpenseFail(e)})},a.spotObjEditHandler=function(e,t){var n=[];n.push(t),console.log(n),g.patch("/invoice/expenses/"+t.id+"/",t).then(function(e){console.log(e.data),a.props.editExpenseSuccess(e.data),console.log(t),console.log(a.state.expenseDataList);var n=[];n.push(e.data),console.log(n),console.log(a.state.expenseDataList),n.map(function(e,t){var n=[],r=[],l="";e.ExpenseAcct=l,e.CreditAcct=l,console.log(e),console.log(a.state.accountList),e.journal_entry.journal_item.map(function(t,c){a.state.accountList.map(function(e,a){e.id===t.account&&(t.account=e.name,l=e.name)}),t.credit_amount>0?(n=t,e.CreditAcct=l):(r=t,e.ExpenseAcct=l)}),e.journal_entry.journal_item=null,e.journal_entry.creditJrnlItem=n,e.journal_entry.debitJrnlItem=r,a.state.categoryList.map(function(t,a){console.log(e),e.ExpenseCategory===t.id&&(e.ExpenseCategory=t.name)})}),console.log(n);var r=a.state.expenseDataList.map(function(e){return n.find(function(t){return t.id===e.id})||e});console.log(n),a.setState({expenseDataList:r})}).catch(function(e){console.log(e),a.props.editExpenseFail(e)})},a.filterHandler=function(e){null===a.state.selectedName?g.get("invoice/expenses/?start_date="+a.state.start_date+"&end_date="+a.state.end_date).then(function(e){console.log(e.data),a.ExpenseDataHandlers(e.data)}):g.get("invoice/expenses/?start_date="+a.state.start_date+"&end_date="+a.state.end_date+"&ExpenseAcct="+a.state.expenseAccnts.filter(function(e){return e.name===a.state.selectedName})[0].id).then(function(e){console.log(e.data),a.ExpenseDataHandlers(e.data)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({start_date:ke()(new Date).format("YYYY-MM-DD"),end_date:ke()(new Date).format("YYYY-MM-DD"),end_point:this.state.start_point+this.state.perpage}),this.loadExpenseData(),this.loadExpenseCategory(),this.loadAccount(),this.loadExpenseAccnts(),this.loadCashAccnts()}},{key:"render",value:function(){var e=this;console.log(this.state),console.log(this.props),console.log(this.state.expenseDataList);var t=this.state.expenseDataList.slice(this.state.start_point,this.state.end_point).map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a+e.state.start_point+1),r.a.createElement("td",null,t.Doc_no),r.a.createElement("td",null,t.Date),r.a.createElement("td",null,t.ExpenseCategory),r.a.createElement("td",null,t.ExpenseAcct),r.a.createElement("td",null,t.Amount),r.a.createElement("td",null,r.a.createElement("i",{onClick:function(){return e.viewWindowOpen(t.id)},className:"w3-margin-left fa fa-eye"})))});return r.a.createElement("div",null,this.state.isView?this.viewModal():null,this.state.isEdit?this.editModal():null,this.state.isDelete?this.deleteModal():null,this.props.expenseListPageOpen?this.spotViewModal():null,this.props.isEditPage?this.spotEditModal():null,this.props.isDeletePage?this.spotDeletModal():null,"Expense List",r.a.createElement("br",null),r.a.createElement("div",{className:"sales-invoice-filter"},r.a.createElement("div",null,r.a.createElement("label",null,"START DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"start_date",value:this.state.start_date,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",null,r.a.createElement("label",null,"END DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"end_date",value:this.state.end_date,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",null,r.a.createElement("label",null,"ACCOUNT"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedName:t.target.value})}},r.a.createElement("option",{value:""}),this.state.expenseAccnts.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null),r.a.createElement("br",null),r.a.createElement("button",{className:"cancelBtn",onClick:function(t){return e.filterHandler()}},"FILTER"))),r.a.createElement("table",{className:"SalesInvoiceTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SL NO"),r.a.createElement("th",null,"Doc No"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"EXP. ACCOUNT"),r.a.createElement("th",null,"AMOUNT"),r.a.createElement("th",null,"VIEW"))),r.a.createElement("tbody",null,this.state.expenseDataList.length>0?t:null)),r.a.createElement("br",null),r.a.createElement("div",{className:"pagination"},r.a.createElement(Xe,{item_count:this.state.expenseDataList.length,perpage_count:this.state.perpage,page:this.state.curr_page,click:this.pagexClickHandler,prevClick:this.previousClickHandler,nxtClick:this.nextClickHandler,firstClick:this.firstClickHandler,lastClick:this.lastClickHandler,nxtDisabled:this.state.nxtDisabled,prevDisabled:this.state.prevDisabled,firstDisabled:this.state.firstDisabled,lastDisabled:this.state.lastDisabled})))}}]),t}(n.Component),vt=Object(m.b)(function(e){return{expenseData:e.expense.expenseData,expenseListPageOpen:e.expense.expenseListPageOpen,isDeletePage:e.expense.isDeletePage,isEditPage:e.expense.isEditPage}},function(e){return{spotViewWindowOpen:function(){return e({type:"EXPENSES_LIST_PAGE_CLOSE"})},spotEditWindowOpen:function(){return e({type:"EXPENSE_EDIT_WINDOW_OPEN"})},spotEditWindowClose:function(){return e({type:"EXPENSE_EDIT_WINDOW_CLOSE"})},spotDeleteWindowOpen:function(){return e({type:"EXPENSE_DELETE_WINDOW_OPEN"})},spotDeleteWindowClose:function(){return e({type:"EXPENSE_DELETE_WINDOW_CLOSE"})},spotObjEditHandler:function(t){return e(function(e){return console.log(e),function(t){g.patch("/invoice/expenses/"+e.id+"/",e).then(function(e){t((e.data,{type:"EXPENSE_EDIT_SUCCESS"}))}).catch(function(e){t({type:"EXPENSE_EDIT_FAIL"})})}}(t))},spotObjDeleteHandler:function(t){return e(function(e){return function(t){g.delete("/invoice/expenses/"+e).then(function(e){t({type:"EXPENSE_DELETE_SUCCESS"})}).catch(function(e){t({type:"EXPENSE_DELETE_FAIL"})})}}(t))},deleteExpenseSuccess:function(){return e({type:"EXPENSE_DELETE_SUCCESS"})},deleteExpenseFail:function(t){return e({type:"EXPENSE_DELETE_FAIL"})},editExpenseSuccess:function(t){return e({type:"EXPENSE_EDIT_SUCCESS"})},editExpenseFail:function(t){return e({type:"EXPENSE_EDIT_FAIL"})}}})(bt),Ct=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"SalesInvoicesWrapper"},r.a.createElement("div",null,r.a.createElement(K,null)),r.a.createElement("div",{className:"SalesInvoiceBox"},r.a.createElement(vt,null)))}}]),t}(n.Component),Dt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Partner"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"CUSOTMER_ID  :"),this.props.formData.customer_id),r.a.createElement("div",null,r.a.createElement("p",null,"TYPE:"),this.props.formData.type)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"NAME:"),this.props.formData.name),r.a.createElement("div",null,r.a.createElement("p",null,"AREA"),this.props.areaList.filter(function(t){return t.id===e.props.formData.area})[0].area)),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-partner"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),Ot=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={partnerList:[],areaList:[],customer_id:null,type:null,name:null,area:null},a.loadPartner=function(){g.get("invoice/partner/").then(function(e){a.setState({partnerList:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(e){a.props.formData.customer_id=a.state.customer_id,a.props.formData.name=a.state.name,a.props.formData.type=a.state.type,a.props.formData.edited_by=a.props.currentUserData.id,a.props.formData.area=a.props.areaList.filter(function(e){return e.area===a.state.area})[0].id;var t={customer_id:a.state.customer_id,name:a.state.name,type:a.state.type,area:a.props.areaList.filter(function(e){return e.area===a.state.area})[0].id,created_by:a.props.formData.created_by,edited_by:a.props.currentUserData.id};console.log(t),a.props.editHandler(e,a.props.formData),console.log(a.props.formData)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({formData:this.props.formData,partnerList:this.props.partnerList,customer_id:this.props.formData.customer_id,type:this.props.formData.type,name:this.props.formData.name,area:this.props.areaList.filter(function(t){return t.id===e.props.formData.area})[0].area,areaList:this.props.areaList}),this.loadPartner()}},{key:"render",value:function(){var e=this;console.log(this.props.formData),console.log(this.props),console.log(this.state);return r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Customer Receipt"),r.a.createElement("div",{className:"row-wrapper1"}),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"CUSOTMER_ID:"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"customer_id",value:this.state.customer_id,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("label",null,"TYPE"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({type:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.type),[{type:"BOTH"},{type:"CUSTOMER"},{type:"SUPPLIER"}].map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.type},e.type)})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"NAME"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",name:"name",value:this.state.name,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",null,r.a.createElement("label",null,"AREA"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({area:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.area),this.state.areaList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.area},e.area)})))),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"CANCEL"),r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE"),r.a.createElement(j.b,{to:"/create-partner"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),_t=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Partner"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this Partner ?"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"CUSOTMER_ID"),r.a.createElement("th",null,"TYPE"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"AREA"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.customer_id),r.a.createElement("td",null,this.props.formData.type),r.a.createElement("td",null,this.props.formData.name),r.a.createElement("td",null,this.props.areaList.filter(function(t){return t.id===e.props.formData.area})[0].area)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),yt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={partnerList:[],isEdit:!1,isDelete:!1,deleteId:null,editId:null,isView:!1,editObject:[],perpage:10,curr_page:1,start_point:0,end_point:null,prevDisabled:!0,nxtDisabled:!1,firstDisabled:!0,lastDisabled:!1},a.loadPartner=function(){g.get("invoice/partner/").then(function(e){a.setState({partnerList:e.data.filter(function(e){return"SUPPLIER"!==e.type})})})},a.pagexClickHandler=function(e){console.log(e);var t=a.state.partnerList.length,n=a.state.perpage,r=Math.ceil(t/n),l=(e-1)*n,c=e<r||t%n===0?l+n:l+t%n;1===e?a.setState({prevDisabled:!0,firstDisabled:!0,nxtDisabled:!1,lastDisabled:!1}):e===r?a.setState({nxtDisabled:!0,lastDisabled:!0,prevDisabled:!1,firstDisabled:!1}):a.setState({nxtDisabled:!1,prevDisabled:!1,firstDisabled:!1,lastDisabled:!1}),a.setState({curr_page:e,start_point:l,end_point:c})},a.previousClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(a.state.curr_page-1)},a.nextClickHandler=function(){var e=a.state.partnerList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(a.state.curr_page+1)},a.firstClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(1)},a.lastClickHandler=function(){var e=a.state.partnerList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(t)},a.viewWindowOpen=function(e){var t=a.state.partnerList.filter(function(t){return t.id===e});console.log(t),console.log(t[0]),a.setState({isView:!0,viewObject:t[0]})},a.viewWindowClose=function(){a.setState({isView:!1,viewObject:{}})},a.deleteWindowOpen=function(e,t){e.preventDefault(),a.setState({isDelete:!0,deleteId:t})},a.deleteWindowClose=function(){a.setState({isDelete:!1})},a.editWindowOpen=function(e,t){e.preventDefault();var n=a.state.partnerList.filter(function(e){return e.id===t});console.log(n),a.setState({isEdit:!0,editObject:n[0],editId:t}),console.log(n[0])},a.editWindowClose=function(){a.setState({isEdit:!1,editObject:{}})},a.viewModal=function(){return r.a.createElement(Dt,{show:a.state.isView,close:a.viewWindowClose,formData:a.state.viewObject,deletewindow:a.deleteWindowOpen,editwindow:a.editWindowOpen})},a.editModal=function(){return r.a.createElement(Ot,{show:a.state.isEdit,close:a.editWindowClose,formData:a.state.editObject,editId:a.state.editId,editHandler:a.objEditHandler,partnerList:a.state.partnerList,currentUserData:a.props.currentUserData})},a.deleteModal=function(){return r.a.createElement(_t,{show:a.state.isDelete,close:a.deleteWindowClose,deleteHandler:a.deleteHandler,formData:a.state.viewObject})},a.objEditHandler=function(e,t){e.preventDefault(),g.patch("/invoice/partner/"+t.id+"/",t).then(function(e){console.log(e.data),a.setState({isEdit:!1}),a.viewWindowOpen(t.id)})},a.deleteHandler=function(e){var t=a.state.deleteId,n=a.state.partnerList,r=a.state.partnerList.filter(function(e){return e.id===t}),l=n.indexOf(r[0]);g.delete("invoice/partner/"+t).then(function(e){n.splice(l,1),a.setState({partnerList:n,isDelete:!1,isView:!1})})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({end_point:this.state.start_point+this.state.perpage}),this.props.currentUser(),this.loadPartner()}},{key:"render",value:function(){var e=this;console.log(this.state),console.log(this.props);var t=this.state.partnerList.slice(this.state.start_point,this.state.end_point).map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a+e.state.start_point+1),r.a.createElement("td",null,t.customer_id),r.a.createElement("td",null,t.created_date),r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("i",{onClick:function(){return e.viewWindowOpen(t.id)},className:"w3-margin-left fa fa-eye"})))});return r.a.createElement("div",null,this.state.isView?this.viewModal():null,this.state.isDelete?this.deleteModal():null,this.state.isEdit?this.editModal():null,r.a.createElement("table",{className:"SalesInvoiceTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SL NO"),r.a.createElement("th",null,"CUSOTMER ID"),r.a.createElement("th",null,"CREATE DATE"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"VIEW"))),r.a.createElement("tbody",null,this.state.partnerList.length>0?t:null)),r.a.createElement("br",null),r.a.createElement("div",{className:"pagination"},r.a.createElement(Xe,{item_count:this.state.partnerList.length,perpage_count:this.state.perpage,page:this.state.curr_page,click:this.pagexClickHandler,prevClick:this.previousClickHandler,nxtClick:this.nextClickHandler,firstClick:this.firstClickHandler,lastClick:this.lastClickHandler,nxtDisabled:this.state.nxtDisabled,prevDisabled:this.state.prevDisabled,firstDisabled:this.state.firstDisabled,lastDisabled:this.state.lastDisabled})))}}]),t}(n.Component),St=Object(m.b)(function(e){return{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(yt),At=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(K,null)),r.a.createElement("div",{className:"CreateInvoiceBox"},r.a.createElement("div",null,"Customers"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(St,null)),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),Nt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={categoryList:[],expenseAccnts:[],cashAccnts:[],expenseDataList:[],Doc_no:null,date:new Date,cashAmount:null,narration:"",selectedCategory:"",selectedExpnseAcccnt:"",selectedCashAccnt:"",expenseListPage:!1},a.loadExpenseData=function(){g.get("/invoice/expenses/").then(function(e){a.setState({expenseDataList:e.data})})},a.loadExpenseCategory=function(){g.get("/invoice/expense-category/").then(function(e){a.setState({categoryList:e.data})})},a.loadExpenseAccnts=function(){g.get("/invoice/account/?search=EXPENSE").then(function(e){a.setState({expenseAccnts:e.data})})},a.loadCashAccnts=function(){g.get("/invoice/account/?search=CASH").then(function(e){a.setState({cashAccnts:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.doc_noChangeHandler=function(){console.log(a.state.Doc_no);var e=a.state.expenseDataList.reduce(function(e,t){return(e.Doc_no||0)>t.Doc_no?e:t},{});console.log(e.Doc_no);var t=e.Doc_no;console.log(a.state.expenseDataList),0===a.state.expenseDataList.length?a.state.Doc_no=1:a.state.Doc_no=t+1},a.submitDataHandler=function(e){var t=a.state.categoryList.filter(function(e){return e.name===a.state.selectedCategory}),n=a.state.expenseAccnts.filter(function(e){return e.name===a.state.selectedExpnseAcccnt}),r=a.state.cashAccnts.filter(function(e){return e.name===a.state.selectedCashAccnt}),l={};l.account=n[0].id,l.partner=null,l.debit_amount=a.state.cashAmount,l.credit_amount=0;var c={};c.account=r[0].id,c.partner=null,c.debit_amount=0,c.credit_amount=a.state.cashAmount;var s=[];s.push(c),s.push(l);var o={Doc_no:a.state.Doc_no,Date:a.state.date,Amount:a.state.cashAmount,ExpenseCategory:t[0].id,ExpenseAcct:n[0].id,CreditAcct:r[0].id,journal_entry:{date:a.state.date,transaction_type:"EXPENSE",description:a.state.narration,journal_item:s}};console.log(o),g.post("/invoice/expenses/",o).then(function(e){console.log(e.data),a.props.createExpenseSuccess(e.data),a.setState({expenseListPage:!0})}).catch(function(e){a.props.onCreateExpenseFail(e)})},a.openExpenseListPage=function(){return r.a.createElement(p.a,{to:"/expense-list"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({date:ke()(new Date).format("YYYY-MM-DD")}),this.loadExpenseCategory(),this.loadExpenseAccnts(),this.loadCashAccnts(),this.loadExpenseData()}},{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("div",null,this.state.expenseListPage?this.openExpenseListPage():null,r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper1"},r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"}," Create Expense"))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,this.doc_noChangeHandler(),r.a.createElement("label",null,"Doc No"),r.a.createElement("br",null),r.a.createElement("input",{readOnly:!0,className:"grand"})),r.a.createElement("div",null,r.a.createElement("label",null,"CATEGORY"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCategory:t.target.value})}},r.a.createElement("option",{value:""}),this.state.categoryList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"DATE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"date",name:"date",value:this.state.date,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"EXPENSE ACCOUNT"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedExpnseAcccnt:t.target.value})}},r.a.createElement("option",{value:""}),this.state.expenseAccnts.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"CASH ACCOUNT"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCashAccnt:t.target.value})}},r.a.createElement("option",{value:""}),this.state.cashAccnts.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"TOTAL"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.cashAmount,onChange:this.handleInputChange,className:"grand",type:"number",name:"cashAmount"}))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("label",null,"NARRATION"),r.a.createElement("br",null),r.a.createElement("input",{className:"narration",name:"narration",onChange:this.handleInputChange,value:this.state.narration})),r.a.createElement("br",null),r.a.createElement("div",{className:"btn-gap-reciept"},r.a.createElement("div",null,r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE")),r.a.createElement("div",null,r.a.createElement("button",{className:"cancelBtn",onClick:function(t){return e.cancelDataHandler(t)}},"CANCEL"))))}}]),t}(n.Component),wt=Object(m.b)(null,function(e){return{createExpenseSuccess:function(t){return e(A(t))},onCreateExpenseFail:function(t){return e({type:"CREATE_EXPENSE_FAIL"})}}})(Nt),Lt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(K,null)),r.a.createElement("div",{className:"CreateInvoiceBox"},r.a.createElement(wt,null)),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),jt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={areaList:[],customer_id:null,type:null,name:null,partnerPage:!1,area:null},a.loadArea=function(){g.get("invoice/area/").then(function(e){a.setState({areaList:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(){var e={customer_id:a.state.customer_id,type:a.state.type,name:a.state.name,area:a.state.areaList.filter(function(e){return e.area===a.state.area})[0].id,created_by:a.props.currentUserData.id};console.log(e),g.post("invoice/partner/",e).then(function(e){console.log(e.data),a.props.onCreatePartnerSuccess(e.data),a.setState({partnerPage:!0})})},a.openPartnerPage=function(){return r.a.createElement(p.a,{to:"/partners"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser(),this.loadArea()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.partnerPage?this.openPartnerPage():null,r.a.createElement("br",null),r.a.createElement("div",{className:"SettingsAcntBoxwrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"CUSOTMER_ID:"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"customer_id",value:this.state.customer_id,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("label",null,"TYPE"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({type:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.type),[{type:"BOTH"},{type:"CUSTOMER"},{type:"SUPPLIER"}].map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.type},e.type)})))),r.a.createElement("br",null),r.a.createElement("div",{className:"SettingsAcntBoxwrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"NAME"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",name:"name",value:this.state.name,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",null,r.a.createElement("label",null,"AREA"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({area:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.area),this.state.areaList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.area},e.area)})))),r.a.createElement("br",null),r.a.createElement("div",{style:{marginLeft:"200px"}},r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE")))}}]),t}(n.Component),It=Object(m.b)(function(e){return{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())},onCreatePartnerSuccess:function(t){return e(N(t))}}})(jt),Tt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),r.a.createElement("div",{className:"SettingsAcntBox"},"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement(It,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE")),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),Pt=Object(m.b)(function(e){return console.log(e),{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(Tt),kt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.props),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Partner"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"CUSOTMER_ID  :"),this.props.formData.customer_id),r.a.createElement("div",null,r.a.createElement("p",null,"TYPE:"),this.props.formData.type)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"NAME:"),this.props.formData.name),r.a.createElement("div",null,r.a.createElement("p",null,"AREA"),0!==this.props.areaList.length?this.props.areaList.filter(function(t){return t.id===e.props.formData.area})[0].area:null)),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-partner"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),Ht=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={partnerList:[],areaList:[],customer_id:null,type:null,name:null,area:null},a.loadPartner=function(){g.get("invoice/partner/").then(function(e){a.setState({partnerList:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(e){a.props.formData.customer_id=a.state.customer_id,a.props.formData.name=a.state.name,a.props.formData.type=a.state.type,a.props.formData.edited_by=a.props.currentUserData.id,a.props.formData.area=a.props.areaList.filter(function(e){return e.area===a.state.area})[0].id;var t={customer_id:a.state.customer_id,name:a.state.name,type:a.state.type,area:a.props.areaList.filter(function(e){return e.area===a.state.area})[0].id,created_by:a.props.formData.created_by,edited_by:a.props.currentUserData.id};console.log(t),a.props.editHandler(e,a.props.formData),console.log(a.props.formData)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({formData:this.props.formData,partnerList:this.props.partnerList,customer_id:this.props.formData.customer_id,type:this.props.formData.type,name:this.props.formData.name,area:this.props.areaList.filter(function(t){return t.id===e.props.formData.area})[0].area,areaList:this.props.areaList}),this.loadPartner()}},{key:"render",value:function(){var e=this;console.log(this.props.formData),console.log(this.props),console.log(this.state);return r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Customer Receipt"),r.a.createElement("div",{className:"row-wrapper1"}),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"CUSOTMER_ID:"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"customer_id",value:this.state.customer_id,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("label",null,"TYPE"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({type:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.type),[{type:"BOTH"},{type:"CUSTOMER"},{type:"SUPPLIER"}].map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.type},e.type)})))),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"NAME"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",name:"name",value:this.state.name,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",null,r.a.createElement("label",null,"AREA"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({area:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.area),this.state.areaList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.area},e.area)})))),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"CANCEL"),r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE"),r.a.createElement(j.b,{to:"/create-partner"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),Rt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Partner"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this Partner ?"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"CUSOTMER_ID"),r.a.createElement("th",null,"TYPE"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"AREA"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.customer_id),r.a.createElement("td",null,this.props.formData.type),r.a.createElement("td",null,this.props.formData.name),r.a.createElement("td",null,this.props.areaList.filter(function(t){return t.id===e.props.formData.area})[0].area)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),xt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={partnerList:[],areaList:[],isEdit:!1,isDelete:!1,deleteId:null,editId:null,isView:!1,editObject:[],perpage:10,curr_page:1,start_point:0,end_point:null,prevDisabled:!0,nxtDisabled:!1,firstDisabled:!0,lastDisabled:!1},a.loadArea=function(){g.get("invoice/area/").then(function(e){a.setState({areaList:e.data})})},a.loadPartner=function(){g.get("invoice/partner/").then(function(e){a.setState({partnerList:e.data})})},a.pagexClickHandler=function(e){console.log(e);var t=a.state.partnerList.length,n=a.state.perpage,r=Math.ceil(t/n),l=(e-1)*n,c=e<r||t%n===0?l+n:l+t%n;1===e?a.setState({prevDisabled:!0,firstDisabled:!0,nxtDisabled:!1,lastDisabled:!1}):e===r?a.setState({nxtDisabled:!0,lastDisabled:!0,prevDisabled:!1,firstDisabled:!1}):a.setState({nxtDisabled:!1,prevDisabled:!1,firstDisabled:!1,lastDisabled:!1}),a.setState({curr_page:e,start_point:l,end_point:c})},a.previousClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(a.state.curr_page-1)},a.nextClickHandler=function(){var e=a.state.partnerList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(a.state.curr_page+1)},a.firstClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(1)},a.lastClickHandler=function(){var e=a.state.partnerList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(t)},a.viewWindowOpen=function(e){var t=a.state.partnerList.filter(function(t){return t.id===e});console.log(t),console.log(t[0]),a.setState({isView:!0,viewObject:t[0]})},a.viewWindowClose=function(){a.setState({isView:!1,viewObject:{}})},a.deleteWindowOpen=function(e,t){e.preventDefault(),a.setState({isDelete:!0,deleteId:t})},a.deleteWindowClose=function(){a.setState({isDelete:!1})},a.editWindowOpen=function(e,t){e.preventDefault();var n=a.state.partnerList.filter(function(e){return e.id===t});console.log(n),a.setState({isEdit:!0,editObject:n[0],editId:t}),console.log(n[0])},a.editWindowClose=function(){a.setState({isEdit:!1,editObject:{}})},a.viewModal=function(){return r.a.createElement(Dt,{show:a.state.isView,close:a.viewWindowClose,formData:a.state.viewObject,deletewindow:a.deleteWindowOpen,editwindow:a.editWindowOpen,areaList:a.state.areaList})},a.editModal=function(){return r.a.createElement(Ot,{show:a.state.isEdit,close:a.editWindowClose,formData:a.state.editObject,editId:a.state.editId,editHandler:a.objEditHandler,partnerList:a.state.partnerList,currentUserData:a.props.currentUserData,areaList:a.state.areaList})},a.deleteModal=function(){return r.a.createElement(_t,{show:a.state.isDelete,close:a.deleteWindowClose,deleteHandler:a.deleteHandler,formData:a.state.viewObject,areaList:a.state.areaList})},a.objEditHandler=function(e,t){e.preventDefault(),g.patch("/invoice/partner/"+t.id+"/",t).then(function(e){console.log(e.data),a.setState({isEdit:!1}),a.viewWindowOpen(t.id)})},a.deleteHandler=function(e){var t=a.state.deleteId,n=a.state.partnerList,r=a.state.partnerList.filter(function(e){return e.id===t}),l=n.indexOf(r[0]);g.delete("invoice/partner/"+t).then(function(e){n.splice(l,1),a.setState({partnerList:n,isDelete:!1,isView:!1})})},a.spotViewModal=function(){return r.a.createElement(kt,{show:a.props.partnerListPageOpen,close:a.props.spotViewWindowClose,formData:a.props.partnerData,editwindow:a.props.spotEditWindowOpen,deletewindow:a.props.spotDeleteWindowOpen,areaList:a.state.areaList,partnerList:a.state.partnerList})},a.spotEditModal=function(){return r.a.createElement(Ht,{show:a.props.isEditPage,close:a.props.spotEditWindowClose,formData:a.props.partnerData,editId:a.state.editId,partnerList:a.state.partnerList,editHandler:a.spotObjEditHandler,currentUserData:a.props.currentUserData,areaList:a.state.areaList})},a.spotDeletModal=function(){return r.a.createElement(Rt,{show:a.props.isDeletePage,close:a.props.spotDeleteWindowClose,formData:a.props.partnerData,deleteHandler:a.spotObjDeleteHandler,areaList:a.state.areaList,partnerList:a.state.partnerList})},a.spotObjDeleteHandler=function(e){console.log(e);var t=a.state.partnerList,n=a.state.partnerList.filter(function(t){return t.id===e});console.log(n);var r=t.indexOf(n[0]);console.log(r),g.delete("/invoice/partner/"+e).then(function(e){console.log(e.data),t.splice(r,1),a.setState({partnerList:t}),a.props.deletePartnerSuccess()}).catch(function(e){a.props.deletePartnerFail(e)})},a.spotObjEditHandler=function(e,t){var n=[];n.push(t),g.patch("/invoice/partner/"+t.id+"/",t).then(function(e){a.props.editPartnerSuccess(e.data);var t=a.state.partnerList.map(function(e){return n.find(function(t){return t.id===e.id})||e});a.setState({partnerList:t})}).catch(function(e){a.props.editPartnerFail(e)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({end_point:this.state.start_point+this.state.perpage}),this.props.currentUser(),this.loadPartner(),this.loadArea()}},{key:"componentWillMount",value:function(){this.loadArea(),this.loadPartner()}},{key:"render",value:function(){var e=this;console.log(this.state),console.log(this.props);var t=this.state.partnerList.slice(this.state.start_point,this.state.end_point).map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a+e.state.start_point+1),r.a.createElement("td",null,t.customer_id),r.a.createElement("td",null,t.created_date),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",null,r.a.createElement("i",{onClick:function(){return e.viewWindowOpen(t.id)},className:"w3-margin-left fa fa-eye"})))});return r.a.createElement("div",null,this.state.isView?this.viewModal():null,this.state.isDelete?this.deleteModal():null,this.state.isEdit?this.editModal():null,this.props.partnerListPageOpen?this.spotViewModal():null,this.props.isEditPage?this.spotEditModal():null,this.props.isDeletePage?this.spotDeletModal():null,r.a.createElement("table",{className:"SalesInvoiceTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SL NO"),r.a.createElement("th",null,"CUSOTMER ID"),r.a.createElement("th",null,"CREATE DATE"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"TYPE"),r.a.createElement("th",null,"VIEW"))),r.a.createElement("tbody",null,this.state.partnerList.length>0?t:null)),r.a.createElement("br",null),r.a.createElement("div",{className:"pagination"},r.a.createElement(Xe,{item_count:this.state.partnerList.length,perpage_count:this.state.perpage,page:this.state.curr_page,click:this.pagexClickHandler,prevClick:this.previousClickHandler,nxtClick:this.nextClickHandler,firstClick:this.firstClickHandler,lastClick:this.lastClickHandler,nxtDisabled:this.state.nxtDisabled,prevDisabled:this.state.prevDisabled,firstDisabled:this.state.firstDisabled,lastDisabled:this.state.lastDisabled})))}}]),t}(n.Component),Ut=Object(m.b)(function(e){return{currentUserData:e.currentUser.userData,partnerData:e.partner.partnerData,partnerListPageOpen:e.partner.partnerListPageOpen,isDeletePage:e.partner.isDeletePage,isEditPage:e.partner.isEditPage}},function(e){return{currentUser:function(){return e(D())},spotViewWindowClose:function(){return e({type:"PARTNERS_LIST_PAGE_CLOSE"})},spotEditWindowOpen:function(){return e({type:"PARTNER_EDIT_WINDOW_OPEN"})},spotEditWindowClose:function(){return e({type:"PARTNER_EDIT_WINDOW_CLOSE"})},spotDeleteWindowOpen:function(){return e({type:"PARTNER_DELETE_WINDOW_OPEN"})},spotDeleteWindowClose:function(){return e({type:"PARTNER_DELETE_WINDOW_CLOSE"})},spotObjEditHandler:function(t){return e(function(e){return function(t){g.patch("/invoice/partner/"+e.id+"/",e).then(function(e){t((e.data,{type:"PARTNER_EDIT_SUCCESS"}))}).catch(function(e){t({type:"PARTNER_EDIT_FAIL"})})}}(t))},spotObjDeleteHandler:function(t){return e(function(e){return function(t){g.delete("/invoice/partner/"+e).then(function(e){t({type:"PARTNER_DELETE_SUCCESS"})}).catch(function(e){t({type:"PARTNER_DELETE_FAIL"})})}}(t))},deletePartnerSuccess:function(){return e({type:"PARTNER_DELETE_SUCCESS"})},deletePartnerFail:function(t){return e({type:"PARTNER_DELETE_FAIL"})},editPartnerSuccess:function(t){return e({type:"PARTNER_EDIT_SUCCESS"})},editPartnerFail:function(t){return e({type:"PARTNER_EDIT_FAIL"})}}})(xt),Wt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),r.a.createElement("div",{className:"CreateInvoiceBox"},r.a.createElement("div",null,"partners"),r.a.createElement("br",null),"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement(Ut,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE")),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),Mt=Object(m.b)(function(e){return console.log(e),{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(Wt),Bt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={product_CatList:[],selectedCategory:null,item:null,price:null,productPage:!1},a.loadProductCats=function(){g.get("invoice/product-category/").then(function(e){a.setState({product_CatList:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(){var e={item:a.state.item,price:a.state.price,product_Cat:a.state.product_CatList.filter(function(e){return e.name===a.state.selectedCategory})[0].id};console.log(e.product_Cat),g.post("invoice/item/",e).then(function(e){console.log(e.data),a.props.onCreateProductSuccess(e.data),a.setState({productPage:!0})})},a.openProductPage=function(){return r.a.createElement(p.a,{to:"/products"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadProductCats()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.productPage?this.openProductPage():null,r.a.createElement("br",null),r.a.createElement("div",{ccreateProductlassName:"SettingsAcntBoxwrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT NAME"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"item",value:this.state.item,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT CATEGORY"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCategory:t.target.value})}},r.a.createElement("option",{value:""}," "),this.state.product_CatList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)})))),r.a.createElement("br",null),r.a.createElement("div",{className:"SettingsAcntBoxwrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"PRICE"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",type:"number",name:"price",value:this.state.price,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",null)),r.a.createElement("br",null),r.a.createElement("div",{style:{marginLeft:"200px"}},r.a.createElement("button",{className:"cancelBtn",onClick:null!==this.state.selectedCategory?this.submitDataHandler:null},"SAVE")))}}]),t}(n.Component),Ft=Object(m.b)(null,function(e){return{onCreateProductSuccess:function(t){return e(function(e){return function(t){t(w(e)),g.get("invoice/product-category/").then(function(e){t({type:"GET_ALL_PRODUCT_CAT_SUCCESS",productCategoryData:e.data})})}}(t))}}})(Bt),Vt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),r.a.createElement("div",{className:"SettingsAcntBox"},"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement(Ft,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE")),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),Yt=Object(m.b)(function(e){return console.log(e),{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(Vt),Gt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Product"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"PRODUCT NAME  :"),this.props.formData.item),r.a.createElement("div",null,r.a.createElement("p",null,"PRODUCT CATEGORY:"),this.props.formData.product_Cat),r.a.createElement("div",null,r.a.createElement("p",null,"PRICE:"),this.props.formData.price)),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-products"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),Jt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={product_CatList:[],selectedCategory:null,item:null,price:null},a.loadProductCats=function(){g.get("invoice/product-category/").then(function(e){a.setState({product_CatList:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(e){a.props.formData.item=a.state.item,a.props.formData.price=a.state.price,a.props.formData.product_Cat=a.state.selectedCategory;var t={id:a.props.formData.id,item:a.state.item,price:a.state.price,product_Cat:a.state.product_CatList.map(function(e){return e.name===a.state.selectedCategory})[0].id};console.log(t),a.props.editHandler(e,t),console.log(a.props.formData)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({formData:this.props.formData,selectedCategory:this.props.formData.product_Cat,item:this.props.formData.item,price:this.props.formData.price}),this.loadProductCats()}},{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.props),console.log(this.state),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Product"),r.a.createElement("div",{className:"row-wrapper1"}),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT NAME:"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"item",value:this.state.item,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT CATEGORY"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCategory:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.selectedCategory),this.state.product_CatList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"PRICE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"number",name:"price",value:this.state.price,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"CANCEL"),r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE"),r.a.createElement(j.b,{to:"/create-partner"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),qt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Product"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this product ?"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"PRODUCT NAME :"),r.a.createElement("th",null,"PRODUCT CATEGORY:"),r.a.createElement("th",null,"PRICE:"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.item),r.a.createElement("td",null,this.props.formData.product_Cat),r.a.createElement("td",null,this.props.formData.price)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),Xt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.props),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Product"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"PRODUCT NAME  :"),this.props.formData.item),r.a.createElement("div",null,r.a.createElement("p",null,"PRODUCT CATEGORY:"),0!==this.props.product_CatList.length?this.props.product_CatList.filter(function(t){return t.id===e.props.formData.product_Cat})[0].name:null),r.a.createElement("div",null,r.a.createElement("p",null,"PRICE:"),this.props.formData.price)),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-products"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),zt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={product_CatList:[],selectedCategory:null,item:null,price:null},a.loadProductCats=function(){g.get("invoice/product-category/").then(function(e){a.setState({product_CatList:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(e){a.props.formData.item=a.state.item,a.props.formData.price=a.state.price,a.props.formData.product_Cat=a.state.product_CatList.filter(function(e){return e.name===a.state.selectedCategory})[0].id;var t={id:a.props.formData.id,item:a.state.item,price:a.state.price,product_Cat:a.state.product_CatList.filter(function(e){return e.name===a.state.selectedCategory})[0].id};console.log(t),a.props.editHandler(e,t),console.log(a.props.formData)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({formData:this.props.formData,selectedCategory:this.props.product_CatList.filter(function(t){return t.id===e.props.formData.product_Cat})[0].name,item:this.props.formData.item,price:this.props.formData.price}),this.loadProductCats()}},{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.props),console.log(this.state),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Product"),r.a.createElement("div",{className:"row-wrapper1"}),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT NAME:"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"item",value:this.state.item,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT CATEGORY"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCategory:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.selectedCategory),this.state.product_CatList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",null,"PRICE"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",type:"number",name:"price",value:this.state.price,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"CANCEL"),r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE"),r.a.createElement(j.b,{to:"/create-partner"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),Qt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Product"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this product ?"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"PRODUCT NAME :"),r.a.createElement("th",null,"PRODUCT CATEGORY:"),r.a.createElement("th",null,"PRICE:"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.item),r.a.createElement("td",null,this.props.product_CatList.filter(function(t){return t.id===e.props.formData.product_Cat})[0].name),r.a.createElement("td",null,this.props.formData.price)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),Kt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={productList:[],product_CatList:[],isEdit:!1,isDelete:!1,deleteId:null,editId:null,isView:!1,editObject:[],perpage:10,curr_page:1,start_point:0,end_point:null,prevDisabled:!0,nxtDisabled:!1,firstDisabled:!0,lastDisabled:!1},a.loadProducts=function(){g.get("invoice/item/").then(function(e){var t=e.data;t.map(function(e,t){a.state.product_CatList.map(function(t){t.id===e.product_Cat&&(e.product_Cat=t.name)})}),a.setState({productList:t})})},a.loadProductCats=function(){g.get("invoice/product-category/").then(function(e){a.setState({product_CatList:e.data})})},a.pagexClickHandler=function(e){console.log(e);var t=a.state.productList.length,n=a.state.perpage,r=Math.ceil(t/n),l=(e-1)*n,c=e<r||t%n===0?l+n:l+t%n;1===e?a.setState({prevDisabled:!0,firstDisabled:!0,nxtDisabled:!1,lastDisabled:!1}):e===r?a.setState({nxtDisabled:!0,lastDisabled:!0,prevDisabled:!1,firstDisabled:!1}):a.setState({nxtDisabled:!1,prevDisabled:!1,firstDisabled:!1,lastDisabled:!1}),a.setState({curr_page:e,start_point:l,end_point:c})},a.previousClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(a.state.curr_page-1)},a.nextClickHandler=function(){var e=a.state.productList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(a.state.curr_page+1)},a.firstClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(1)},a.lastClickHandler=function(){var e=a.state.productListproductList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(t)},a.viewWindowOpen=function(e){var t=a.state.productList.filter(function(t){return t.id===e});console.log(t),console.log(t[0]),a.setState({isView:!0,viewObject:t[0]})},a.viewWindowClose=function(){a.setState({isView:!1,viewObject:{}})},a.deleteWindowOpen=function(e,t){e.preventDefault(),a.setState({isDelete:!0,deleteId:t})},a.deleteWindowClose=function(){a.setState({isDelete:!1})},a.editWindowOpen=function(e,t){e.preventDefault();var n=a.state.productList.filter(function(e){return e.id===t});console.log(n),a.setState({isEdit:!0,editObject:n[0],editId:t}),console.log(n[0])},a.editWindowClose=function(){a.setState({isEdit:!1,editObject:{}})},a.viewModal=function(){return r.a.createElement(Gt,{show:a.state.isView,close:a.viewWindowClose,formData:a.state.viewObject,deletewindow:a.deleteWindowOpen,editwindow:a.editWindowOpen,product_CatList:a.state.product_CatList})},a.editModal=function(){return r.a.createElement(Jt,{show:a.state.isEdit,close:a.editWindowClose,formData:a.state.editObject,editId:a.state.editId,editHandler:a.objEditHandler,productList:a.state.productList,product_CatList:a.state.product_CatList})},a.deleteModal=function(){return r.a.createElement(qt,{show:a.state.isDelete,close:a.deleteWindowClose,deleteHandler:a.deleteHandler,formData:a.state.viewObject,product_CatList:a.state.product_CatList})},a.objEditHandler=function(e,t){g.patch("/invoice/item/"+t.id+"/",t).then(function(e){console.log(e.data),a.setState({isEdit:!1}),a.viewWindowOpen(t.id)})},a.deleteHandler=function(e){var t=a.state.deleteId,n=a.state.productList,r=a.state.productList.filter(function(e){return e.id===t}),l=n.indexOf(r[0]);g.delete("invoice/item/"+t).then(function(e){n.splice(l,1),a.setState({productList:n,isDelete:!1,isView:!1})})},a.spotViewModal=function(){return r.a.createElement(Xt,{show:a.props.productListPageOpen,close:a.props.spotViewWindowClose,formData:a.props.productData,editwindow:a.props.spotEditWindowOpen,deletewindow:a.props.spotDeleteWindowOpen,product_CatList:a.props.productCategoryData})},a.spotEditModal=function(){return r.a.createElement(zt,{show:a.props.isEditPage,close:a.props.spotEditWindowClose,formData:a.props.productData,editId:a.state.editId,productList:a.state.productList,editHandler:a.spotObjEditHandler,product_CatList:a.state.product_CatList})},a.spotDeletModal=function(){return r.a.createElement(Qt,{show:a.props.isDeletePage,close:a.props.spotDeleteWindowClose,formData:a.props.productData,deleteHandler:a.spotObjDeleteHandler,product_CatList:a.state.product_CatList})},a.spotObjDeleteHandler=function(e){console.log(e),console.log(n);var t=a.state.productList;t.map(function(e,t){a.state.product_CatList.map(function(t){t.id===e.product_Cat&&(e.product_Cat=t.name)})});var n=t,r=a.state.productList.filter(function(t){return t.id===e});console.log(r);var l=n.indexOf(r[0]);console.log(l),g.delete("/invoice/item/"+e).then(function(e){console.log(e.data),n.splice(l,1),a.setState({productList:n}),a.props.deleteProductSuccess()})},a.spotObjEditHandler=function(e,t){console.log(t);var n=[];n.push(t),g.patch("/invoice/item/"+t.id+"/",t).then(function(e){console.log(e.data),a.props.editProductSuccess(e.data);var t=a.state.productList.map(function(e){return n.find(function(t){return t.id===e.id})||e});console.log(t);var r=t;r.map(function(e,t){a.state.product_CatList.map(function(t){t.id===e.product_Cat&&(e.product_Cat=t.name)})}),console.log(r),a.setState({productList:r})})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.loadProductCats(),this.setState({end_point:this.state.start_point+this.state.perpage}),this.loadProducts()}},{key:"componentDidMount",value:function(){this.setState({end_point:this.state.start_point+this.state.perpage}),this.loadProducts()}},{key:"render",value:function(){var e=this;console.log(this.state),console.log(this.props);var t=this.state.productList.slice(this.state.start_point,this.state.end_point).map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a+e.state.start_point+1),r.a.createElement("td",null,t.item),r.a.createElement("td",null,t.price),r.a.createElement("td",null,t.product_Cat),r.a.createElement("td",null,r.a.createElement("i",{onClick:function(){return e.viewWindowOpen(t.id)},className:"w3-margin-left fa fa-eye"})))});return r.a.createElement("div",null,this.state.isView?this.viewModal():null,this.state.isDelete?this.deleteModal():null,this.state.isEdit?this.editModal():null,this.props.productListPageOpen?this.spotViewModal():null,this.props.isEditPage?this.spotEditModal():null,this.props.isDeletePage?this.spotDeletModal():null,r.a.createElement("table",{className:"SalesInvoiceTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SL NO"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRICE"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"VIEW"))),r.a.createElement("tbody",null,this.state.productList.length>0?t:null)),r.a.createElement("br",null),r.a.createElement("div",{className:"pagination"},r.a.createElement(Xe,{item_count:this.state.productList.length,perpage_count:this.state.perpage,page:this.state.curr_page,click:this.pagexClickHandler,prevClick:this.previousClickHandler,nxtClick:this.nextClickHandler,firstClick:this.firstClickHandler,lastClick:this.lastClickHandler,nxtDisabled:this.state.nxtDisabled,prevDisabled:this.state.prevDisabled,firstDisabled:this.state.firstDisabled,lastDisabled:this.state.lastDisabled})))}}]),t}(n.Component),$t=Object(m.b)(function(e){return{productData:e.product.productData,productListPageOpen:e.product.productListPageOpen,isDeletePage:e.product.isDeletePage,isEditPage:e.product.isEditPage,productCategoryData:e.product.productCategoryData}},function(e){return{spotViewWindowClose:function(){return e({type:"PRODUCT_LIST_PAGE_CLOSE"})},spotEditWindowOpen:function(){return e({type:"PRODUCT_EDIT_WINDOW_OPEN"})},spotEditWindowClose:function(){return e({type:"PRODUCT_EDIT_WINDOW_CLOSE"})},spotDeleteWindowOpen:function(){return e({type:"PRODUCT_DELETE_WINDOW_OPEN"})},spotDeleteWindowClose:function(){return e({type:"PRODUCT_DELETE_WINDOW_CLOSE"})},deleteProductSuccess:function(){return e({type:"PRODUCT_DELETE_SUCCESS"})},editProductSuccess:function(t){return e({type:"PRODUCT_EDIT_SUCCESS"})}}})(Kt),Zt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),r.a.createElement("div",{className:"CreateInvoiceBox"},r.a.createElement("div",null,"partners"),r.a.createElement("br",null),"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement($t,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE")),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),ea=Object(m.b)(function(e){return console.log(e),{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(Zt),ta=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={product_CatList:[],name:null,selectedCategory:null,productCategoryPage:!1},a.loadProductCats=function(){g.get("invoice/product-category/").then(function(e){a.setState({product_CatList:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(){var e={};null===a.state.selectedCategory?(e={name:a.state.name,ParentCategory:null},console.log(e)):e={name:a.state.name,ParentCategory:a.state.product_CatList.filter(function(e){return e.name===a.state.selectedCategory})[0].id},console.log(e),g.post("invoice/product-category/",e).then(function(e){console.log(e.data),a.props.onCreateProductCategorySuccess(e.data),a.setState({productCategoryPage:!0})})},a.openProductCategoryPage=function(){return r.a.createElement(p.a,{to:"/productCategorys"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadProductCats()}},{key:"render",value:function(){var e=this;return console.log(this.state),console.log(this.props),r.a.createElement("div",null,this.state.productCategoryPage?this.openProductCategoryPage():null,r.a.createElement("br",null),r.a.createElement("div",{className:"SettingsAcntBoxwrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT NAME"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"name",value:this.state.name,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT CATEGORY"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCategory:t.target.value})}},r.a.createElement("option",{value:""}," "),this.state.product_CatList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)})))),r.a.createElement("br",null),r.a.createElement("div",{style:{marginLeft:"200px"}},r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE")))}}]),t}(n.Component),aa=Object(m.b)(function(e){return{productCategoryListPageOpen:e.productCategory.productCategoryListPageOpen}},function(e){return{onCreateProductCategorySuccess:function(t){return e(function(e){return function(t){t({type:"CREATE_PRODUCT_CATEGORY_SUCCESS",productCategoryData:e}),g.get("invoice/product-category/").then(function(e){t(L(e.data))})}}(t))}}})(ta),na=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),r.a.createElement("div",{className:"SettingsAcntBox"},"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement(aa,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE")),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),ra=Object(m.b)(function(e){return console.log(e),{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(na),la=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Partner"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"PRODUCT NAME  :"),this.props.formData.name),r.a.createElement("div",null,r.a.createElement("p",null,"PRODUCT CATEGORY:"),null!==this.props.formData.ParentCategory?this.props.formData.ParentCategory:null)),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-productCategory"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),ca=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={product_CatList:[],selectedCategory:null,name:null},a.loadProductCats=function(){g.get("invoice/product-category/").then(function(e){a.setState({product_CatList:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(e){a.props.formData.name=a.state.name,a.props.formData.ParentCategory=a.state.selectedCategory;var t={};null===a.state.selectedCategory?(t={id:a.props.formData.id,name:a.state.name,ParentCategory:null},console.log(t)):t={id:a.props.formData.id,name:a.state.name,ParentCategory:a.state.product_CatList.filter(function(e){return e.name===a.state.selectedCategory})[0].id},console.log(t),a.props.editHandler(e,t),console.log(a.props.formData)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({formData:this.props.formData,name:this.props.formData.name}),null!==this.props.formData.ParentCategory&&this.setState({selectedCategory:this.props.formData.ParentCategory}),this.loadProductCats()}},{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.props),console.log(this.state),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Product Category"),r.a.createElement("div",{className:"row-wrapper1"}),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT NAME:"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"name",value:this.state.name,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT CATEGORY"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCategory:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.selectedCategory),this.state.product_CatList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)})))),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"CANCEL"),r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE"),r.a.createElement(j.b,{to:"/create-partner"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),sa=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Product-Category"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this Product-Category ?"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"PRODUCT NAME :"),r.a.createElement("th",null,"PRODUCT CATEGORY:"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.name),r.a.createElement("td",null,this.props.formData.ParentCategory)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),oa=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.props),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"ProductCategory"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"PRODUCT NAME  :"),this.props.formData.name),r.a.createElement("div",null,r.a.createElement("p",null,"PRODUCT CATEGORY:"),0!==this.props.product_CatList.length&&null!==this.props.formData.ParentCategory?this.props.product_CatList.filter(function(t){return t.id===e.props.formData.ParentCategory})[0].name:null)),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-productCategory"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),ia=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={product_CatList:[],selectedCategory:null,name:null},a.loadProductCats=function(){g.get("invoice/product-category/").then(function(e){a.setState({product_CatList:e.data})})},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(e){a.props.formData.name=a.state.name;var t={};null===a.state.selectedCategory?(t={id:a.props.formData.id,name:a.state.name,ParentCategory:null},console.log(t)):(a.props.formData.ParentCategory=a.state.product_CatList.filter(function(e){return e.name===a.state.selectedCategory})[0].id,t={id:a.props.formData.id,name:a.state.name,ParentCategory:a.state.product_CatList.filter(function(e){return e.name===a.state.selectedCategory})[0].id}),console.log(t),a.props.editHandler(e,t),console.log(a.props.formData)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({formData:this.props.formData,name:this.props.formData.name}),null!==this.props.formData.ParentCategory&&this.setState({selectedCategory:this.props.product_CatList.filter(function(t){return t.id===e.props.formData.ParentCategory})[0].name}),this.loadProductCats()}},{key:"render",value:function(){var e=this;return console.log(this.props.formData),console.log(this.props),console.log(this.state),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Product Category"),r.a.createElement("div",{className:"row-wrapper1"}),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT NAME:"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"name",value:this.state.name,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("label",null,"PRODUCT CATEGORY"),r.a.createElement("br",null),r.a.createElement("select",{className:"select",onChange:function(t){return e.setState({selectedCategory:t.target.value})}},r.a.createElement("option",{value:""}," ",this.state.selectedCategory),this.state.product_CatList.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.name},e.name)})))),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"CANCEL"),r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE"),r.a.createElement(j.b,{to:"/create-partner"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),ua=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Product-Category"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this Product-Category ?"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"PRODUCT NAME :"),r.a.createElement("th",null,"PRODUCT CATEGORY:"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.name),r.a.createElement("td",null,0!==this.props.product_CatList.length&&null!==this.props.formData.ParentCategory?this.props.product_CatList.filter(function(t){return t.id===e.props.formData.ParentCategory})[0].name:null)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),da=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={product_CatList:[],isEdit:!1,isDelete:!1,deleteId:null,editId:null,isView:!1,editObject:[],perpage:10,curr_page:1,start_point:0,end_point:null,prevDisabled:!0,nxtDisabled:!1,firstDisabled:!0,lastDisabled:!1},a.loadProductCats=function(){g.get("invoice/product-category/").then(function(e){var t=e.data,n=e.data;t.map(function(e,t){n.map(function(t){t.id===e.ParentCategory&&(e.ParentCategory=t.name)})}),a.setState({product_CatList:t})})},a.pagexClickHandler=function(e){console.log(e);var t=a.state.product_CatList.length,n=a.state.perpage,r=Math.ceil(t/n),l=(e-1)*n,c=e<r||t%n===0?l+n:l+t%n;1===e?a.setState({prevDisabled:!0,firstDisabled:!0,nxtDisabled:!1,lastDisabled:!1}):e===r?a.setState({nxtDisabled:!0,lastDisabled:!0,prevDisabled:!1,firstDisabled:!1}):a.setState({nxtDisabled:!1,prevDisabled:!1,firstDisabled:!1,lastDisabled:!1}),a.setState({curr_page:e,start_point:l,end_point:c})},a.previousClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(a.state.curr_page-1)},a.nextClickHandler=function(){var e=a.state.product_CatList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(a.state.curr_page+1)},a.firstClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(1)},a.lastClickHandler=function(){var e=a.state.product_CatList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(t)},a.viewWindowOpen=function(e){var t=a.state.product_CatList.filter(function(t){return t.id===e});console.log(t),console.log(t[0]),a.setState({isView:!0,viewObject:t[0]})},a.viewWindowClose=function(){a.setState({isView:!1,viewObject:{}})},a.deleteWindowOpen=function(e,t){e.preventDefault(),a.setState({isDelete:!0,deleteId:t})},a.deleteWindowClose=function(){a.setState({isDelete:!1})},a.editWindowOpen=function(e,t){e.preventDefault();var n=a.state.product_CatList.filter(function(e){return e.id===t});console.log(n),a.setState({isEdit:!0,editObject:n[0],editId:t}),console.log(n[0])},a.editWindowClose=function(){a.setState({isEdit:!1,editObject:{}})},a.viewModal=function(){return r.a.createElement(la,{show:a.state.isView,close:a.viewWindowClose,formData:a.state.viewObject,deletewindow:a.deleteWindowOpen,editwindow:a.editWindowOpen,product_CatList:a.state.product_CatList})},a.editModal=function(){return r.a.createElement(ca,{show:a.state.isEdit,close:a.editWindowClose,formData:a.state.editObject,editId:a.state.editId,editHandler:a.objEditHandler,product_CatList:a.state.product_CatList})},a.deleteModal=function(){return r.a.createElement(sa,{show:a.state.isDelete,close:a.deleteWindowClose,deleteHandler:a.deleteHandler,formData:a.state.viewObject,product_CatList:a.state.product_CatList})},a.objEditHandler=function(e,t){g.patch("/invoice/product-category/"+t.id+"/",t).then(function(e){console.log(e.data),a.setState({isEdit:!1}),a.viewWindowOpen(t.id)})},a.deleteHandler=function(e){var t=a.state.deleteId,n=a.state.product_CatList,r=a.state.product_CatList.filter(function(e){return e.id===t}),l=n.indexOf(r[0]);g.delete("invoice/product-category/"+t).then(function(e){n.splice(l,1),a.setState({product_CatList:n,isDelete:!1,isView:!1})})},a.spotViewModal=function(){return r.a.createElement(oa,{show:a.props.productCategoryListPageOpen,close:a.props.spotViewWindowClose,formData:a.props.productCategoryData,editwindow:a.props.spotEditWindowOpen,deletewindow:a.props.spotDeleteWindowOpen,product_CatList:a.state.product_CatList})},a.spotEditModal=function(){return r.a.createElement(ia,{show:a.props.isEditPage,close:a.props.spotEditWindowClose,formData:a.props.productCategoryData,editId:a.state.editId,editHandler:a.spotObjEditHandler,product_CatList:a.state.product_CatList})},a.spotDeletModal=function(){return r.a.createElement(ua,{show:a.props.isDeletePage,close:a.props.spotDeleteWindowClose,formData:a.props.productCategoryData,deleteHandler:a.spotObjDeleteHandler,product_CatList:a.state.product_CatList})},a.spotObjDeleteHandler=function(e){console.log(e),console.log(n);var t=a.state.product_CatList;t.map(function(e,t){a.state.product_CatList.map(function(t){t.id===e.ParentCategory&&(e.ParentCategory=t.name)})});var n=t,r=a.state.product_CatList.filter(function(t){return t.id===e});console.log(r);var l=n.indexOf(r[0]);console.log(l),g.delete("/invoice/product-category/"+e).then(function(e){console.log(e.data),n.splice(l,1),a.setState({product_CatList:n}),a.props.deleteProductCategorySuccess()}).catch(function(e){a.props.deleteProductCategoryFail(e)})},a.spotObjEditHandler=function(e,t){console.log(t);var n=[];n.push(t),g.patch("/invoice/product-category/"+t.id+"/",t).then(function(e){console.log(e.data),a.props.editProductCategorySuccess(e.data);var t=a.state.product_CatList.map(function(e){return n.find(function(t){return t.id===e.id})||e});console.log(t);var r=t;r.map(function(e,t){a.state.product_CatList.map(function(t){t.id===e.ParentCategory&&(e.ParentCategory=t.name)})}),console.log(r),a.setState({product_CatList:r})})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({end_point:this.state.start_point+this.state.perpage}),this.loadProductCats(),this.props.getAllProductCategoty()}},{key:"render",value:function(){var e=this;console.log(this.state),console.log(this.props);var t=this.state.product_CatList.slice(this.state.start_point,this.state.end_point).map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a+e.state.start_point+1),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.ParentCategory),r.a.createElement("td",null,r.a.createElement("i",{onClick:function(){return e.viewWindowOpen(t.id)},className:"w3-margin-left fa fa-eye"})))});return r.a.createElement("div",null,this.state.isView?this.viewModal():null,this.state.isDelete?this.deleteModal():null,this.state.isEdit?this.editModal():null,this.props.productCategoryListPageOpen?this.spotViewModal():null,this.props.isEditPage?this.spotEditModal():null,this.props.isDeletePage?this.spotDeletModal():null,r.a.createElement("table",{className:"SalesInvoiceTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SL NO"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"VIEW"))),r.a.createElement("tbody",null,this.state.product_CatList.length>0?t:null)),r.a.createElement("br",null),r.a.createElement("div",{className:"pagination"},r.a.createElement(Xe,{item_count:this.state.product_CatList.length,perpage_count:this.state.perpage,page:this.state.curr_page,click:this.pagexClickHandler,prevClick:this.previousClickHandler,nxtClick:this.nextClickHandler,firstClick:this.firstClickHandler,lastClick:this.lastClickHandler,nxtDisabled:this.state.nxtDisabled,prevDisabled:this.state.prevDisabled,firstDisabled:this.state.firstDisabled,lastDisabled:this.state.lastDisabled})))}}]),t}(n.Component),pa=Object(m.b)(function(e){return console.log(e),{productCategoryData:e.productCategory.productCategoryData,productCategoryListPageOpen:e.productCategory.productCategoryListPageOpen,isDeletePage:e.productCategory.isDeletePage,isEditPage:e.productCategory.isEditPage,productCategoryDataList:e.productCategory.productCategoryDataList}},function(e){return{spotViewWindowClose:function(){return e({type:"PRODUCT_CATEGORY_LIST_PAGE_CLOSE"})},spotEditWindowOpen:function(){return e({type:"PRODUCT_CATEGORY_EDIT_WINDOW_OPEN"})},spotEditWindowClose:function(){return e({type:"PRODUCT_CATEGORY_EDIT_WINDOW_CLOSE"})},spotDeleteWindowOpen:function(){return e({type:"PRODUCT_CATEGORY_DELETE_WINDOW_OPEN"})},spotDeleteWindowClose:function(){return e({type:"PRODUCT_CATEGORY_DELETE_WINDOW_CLOSE"})},spotObjEditHandler:function(t){return e(function(e){return function(t){g.patch("/invoice/product-category/"+e.id+"/",e).then(function(e){console.log(e.data),t((e.data,{type:"PRODUCT_CATEGORY_EDIT_SUCCESS"}))}).catch(function(e){t({type:"PRODUCT_CATEGORY_EDIT_FAIL"})})}}(t))},spotObjDeleteHandler:function(t){return e(function(e){return function(t){g.delete("/invoice/product-category/"+e).then(function(e){t({type:"PRODUCT_CATEGORY_DELETE_SUCCESS"})}).catch(function(e){t({type:"PRODUCT_CATEGORY_DELETE_FAIL"})})}}(t))},getAllProductCategoty:function(){return e(function(e){g.get("invoice/product-category/").then(function(t){console.log(t.data),e(L(t.data))})})},deleteProductCategorySuccess:function(){return e({type:"PRODUCT_CATEGORY_DELETE_SUCCESS"})},deleteProductCategoryFail:function(t){return e({type:"PRODUCT_CATEGORY_DELETE_FAIL"})},editProductCategorySuccess:function(t){return e({type:"PRODUCT_CATEGORY_EDIT_SUCCESS"})},editProductCategoryFail:function(t){return e({type:"PRODUCT_CATEGORY_EDIT_FAIL"})}}})(da),ma=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),r.a.createElement("div",{className:"CreateInvoiceBox"},r.a.createElement("div",null,"product categories"),r.a.createElement("br",null),"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement(pa,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE")),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),Ea=Object(m.b)(function(e){return console.log(e),{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(ma),ha=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={selectedBranch:null,branchListPage:!1},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(){var e={branch:a.state.selectedBranch};g.post("invoice/branch/",e).then(function(e){console.log(e.data),a.props.createBranchSuccess(e.data),a.setState({branchListPage:!0})}).catch(function(e){a.props.createBranchFail(e)})},a.openBranchListPage=function(){return r.a.createElement(p.a,{to:"/branches"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log(this.state),console.log(this.props),r.a.createElement("div",null,this.state.branchListPage?this.openBranchListPage():null,r.a.createElement("br",null),r.a.createElement("div",{className:"SettingsAcntBoxwrapper"},r.a.createElement("label",null,"BRANCH:"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"selectedBranch",value:this.state.selectedBranch,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("div",{style:{marginLeft:"200px"}},r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE")))}}]),t}(n.Component),fa=Object(m.b)(function(e){return{branchData:e.branch.branchData,branchDataList:e.branch.branchDataList,branchListPageOpen:e.branch.branchListPageOpen,isDeletePage:e.branch.isDeletePage,isEditPage:e.branch.isEditPage}},function(e){return{getAllBranch:function(){return e(function(e){g.get("invoice/branch/").then(function(t){console.log(t.data),e({type:"GET_ALL_BRANCH_DATA",branchDataList:t.data})})})},createBranchSuccess:function(t){return e({type:"CREATE_BRANCH_SUCCESS",branchData:t})},createBranchFail:function(t){return e({type:"CREATE_BRANCH_FAIL"})}}})(ha),ga=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),r.a.createElement("div",{className:"SettingsAcntBox"},"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement(fa,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE")),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),ba=Object(m.b)(function(e){return console.log(e),{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(ga),va=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xs","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"BRANCH"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"BRANCH NAME  :"),this.props.formData.branch)),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-branch"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),Ca=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={formData:[],selectedBranch:null},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(e){a.props.formData.branch=a.state.selectedBranch;var t={id:a.props.formData.id,branch:a.state.selectedBranch};console.log(t),a.props.editHandler(e,t),console.log(a.props.formData)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({formData:this.props.formData,selectedBranch:this.props.formData.branch})}},{key:"render",value:function(){return console.log(this.props.formData),console.log(this.props),console.log(this.state),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xs","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Branch"),r.a.createElement("div",{className:"row-wrapper1"}),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"Branch Name"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",name:"selectedBranch",value:this.state.selectedBranch,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"CANCEL"),r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE"),r.a.createElement(j.b,{to:"/create-branch"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),Da=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Branch"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this branch ?"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"BRANCH NAME :"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.branch)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),Oa=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={branchList:[],isEdit:!1,isDelete:!1,deleteId:null,editId:null,isView:!1,editObject:[],perpage:10,curr_page:1,start_point:0,end_point:null,prevDisabled:!0,nxtDisabled:!1,firstDisabled:!0,lastDisabled:!1},a.loadBranches=function(){g.get("invoice/branch/").then(function(e){a.setState({branchList:e.data})})},a.pagexClickHandler=function(e){console.log(e);var t=a.state.branchList.length,n=a.state.perpage,r=Math.ceil(t/n),l=(e-1)*n,c=e<r||t%n===0?l+n:l+t%n;1===e?a.setState({prevDisabled:!0,firstDisabled:!0,nxtDisabled:!1,lastDisabled:!1}):e===r?a.setState({nxtDisabled:!0,lastDisabled:!0,prevDisabled:!1,firstDisabled:!1}):a.setState({nxtDisabled:!1,prevDisabled:!1,firstDisabled:!1,lastDisabled:!1}),a.setState({curr_page:e,start_point:l,end_point:c})},a.previousClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(a.state.curr_page-1)},a.nextClickHandler=function(){var e=a.state.branchList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(a.state.curr_page+1)},a.firstClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(1)},a.lastClickHandler=function(){var e=a.state.branchList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(t)},a.viewWindowOpen=function(e){var t=a.state.branchList.filter(function(t){return t.id===e});console.log(t),console.log(t[0]),a.setState({isView:!0,viewObject:t[0]})},a.viewWindowClose=function(){a.setState({isView:!1,viewObject:{}})},a.deleteWindowOpen=function(e,t){e.preventDefault(),a.setState({isDelete:!0,deleteId:t})},a.deleteWindowClose=function(){a.setState({isDelete:!1})},a.editWindowOpen=function(e,t){e.preventDefault();var n=a.state.branchList.filter(function(e){return e.id===t});console.log(n),a.setState({isEdit:!0,editObject:n[0],editId:t}),console.log(n[0])},a.editWindowClose=function(){a.setState({isEdit:!1,editObject:{}})},a.viewModal=function(){return r.a.createElement(va,{show:a.state.isView,close:a.viewWindowClose,formData:a.state.viewObject,deletewindow:a.deleteWindowOpen,editwindow:a.editWindowOpen})},a.editModal=function(){return r.a.createElement(Ca,{show:a.state.isEdit,close:a.editWindowClose,formData:a.state.editObject,editId:a.state.editId,editHandler:a.objEditHandler})},a.deleteModal=function(){return r.a.createElement(Da,{show:a.state.isDelete,close:a.deleteWindowClose,deleteHandler:a.deleteHandler,formData:a.state.viewObject})},a.objEditHandler=function(e,t){g.patch("/invoice/branch/"+t.id+"/",t).then(function(e){console.log(e.data),a.setState({isEdit:!1}),a.viewWindowOpen(t.id)})},a.deleteHandler=function(e){var t=a.state.deleteId,n=a.state.branchList,r=a.state.branchList.filter(function(e){return e.id===t}),l=n.indexOf(r[0]);g.delete("invoice/branch/"+t).then(function(e){n.splice(l,1),a.setState({branchList:n,isDelete:!1,isView:!1})})},a.spotViewModal=function(){return r.a.createElement(va,{show:a.props.branchListPageOpen,close:a.props.spotViewWindowClose,formData:a.props.branchData,editwindow:a.props.spotEditWindowOpen,deletewindow:a.props.spotDeleteWindowOpen})},a.spotEditModal=function(){return r.a.createElement(Ca,{show:a.props.isEditPage,close:a.props.spotEditWindowClose,formData:a.props.branchData,editId:a.state.editId,editHandler:a.spotObjEditHandler})},a.spotDeletModal=function(){return r.a.createElement(Da,{show:a.props.isDeletePage,close:a.props.spotDeleteWindowClose,formData:a.props.branchData,deleteHandler:a.spotObjDeleteHandler})},a.spotObjDeleteHandler=function(e){console.log(e);var t=a.state.branchList,n=a.state.branchList.filter(function(t){return t.id===e});console.log(n);var r=t.indexOf(n[0]);console.log(r),g.delete("/invoice/branch/"+e).then(function(e){console.log(e.data),t.splice(r,1),a.setState({branchList:t}),a.props.deleteBranchSuccess()}).catch(function(e){a.props.deleteBranchFail(e)})},a.spotObjEditHandler=function(e,t){var n=[];n.push(t),g.patch("/invoice/branch/"+t.id+"/",t).then(function(e){a.props.editBranchSuccess(e.data);var t=a.state.branchList.map(function(e){return n.find(function(t){return t.id===e.id})||e});a.setState({branchList:t})}).catch(function(e){a.props.editBranchFail(e)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({end_point:this.state.start_point+this.state.perpage}),this.loadBranches()}},{key:"render",value:function(){var e=this;console.log(this.state),console.log(this.props);var t=this.state.branchList.slice(this.state.start_point,this.state.end_point).map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a+e.state.start_point+1),r.a.createElement("td",null,t.branch),r.a.createElement("td",null,r.a.createElement("i",{onClick:function(){return e.viewWindowOpen(t.id)},className:"w3-margin-left fa fa-eye"})))});return r.a.createElement("div",null,this.state.isView?this.viewModal():null,this.state.isDelete?this.deleteModal():null,this.state.isEdit?this.editModal():null,this.props.branchListPageOpen?this.spotViewModal():null,this.props.isEditPage?this.spotEditModal():null,this.props.isDeletePage?this.spotDeletModal():null,"branch list",r.a.createElement("table",{className:"SalesInvoiceTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SL NO"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"VIEW"))),r.a.createElement("tbody",null,this.state.branchList.length>0?t:null)),r.a.createElement("br",null),r.a.createElement("div",{className:"pagination"},r.a.createElement(Xe,{item_count:this.state.branchList.length,perpage_count:this.state.perpage,page:this.state.curr_page,click:this.pagexClickHandler,prevClick:this.previousClickHandler,nxtClick:this.nextClickHandler,firstClick:this.firstClickHandler,lastClick:this.lastClickHandler,nxtDisabled:this.state.nxtDisabled,prevDisabled:this.state.prevDisabled,firstDisabled:this.state.firstDisabled,lastDisabled:this.state.lastDisabled})))}}]),t}(n.Component),_a=Object(m.b)(function(e){return{branchData:e.branch.branchData,branchListPageOpen:e.branch.branchListPageOpen,isDeletePage:e.branch.isDeletePage,isEditPage:e.branch.isEditPage}},function(e){return{spotViewWindowClose:function(){return e({type:"BRANCH_LIST_PAGE_CLOSE"})},spotEditWindowOpen:function(){return e({type:"BRANCH_EDIT_WINDOW_OPEN"})},spotEditWindowClose:function(){return e({type:"BRANCH_EDIT_WINDOW_CLOSE"})},spotDeleteWindowOpen:function(){return e({type:"BRANCH_DELETE_WINDOW_OPEN"})},spotDeleteWindowClose:function(){return e({type:"BRANCH_DELETE_WINDOW_CLOSE"})},deleteBranchSuccess:function(){return e({type:"BRANCH_DELETE_SUCCESS"})},deleteBranchFail:function(){return e({type:"BRANCH_DELETE_FAIL"})},editBranchSuccess:function(t){return e({type:"BRANCH_EDIT_SUCCESS"})},editBranchFail:function(t){return e({type:"BRANCH_EDIT_FAIL"})}}})(Oa),ya=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),r.a.createElement("div",{className:"CreateInvoiceBox"},"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement(_a,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE")),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),Sa=Object(m.b)(function(e){return console.log(e),{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(ya),Aa=a(38),Na=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={selectedArea:null,areaListPage:!1},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(){var e={area:a.state.selectedArea};console.log(e),g.post("invoice/area/",e).then(function(e){a.props.createAreaSuccess(e.data),a.setState({areaListPage:!0})}).catch(function(e){a.props.createAreaFail(e)}),console.log(a.props)},a.openAreaListPage=function(e){return console.log(Object(Aa.a)(Object(Aa.a)(a))),r.a.createElement(p.a,{to:"/areas"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log(this.state),console.log(this.props),r.a.createElement("div",null,this.state.areaListPage?this.openAreaListPage():null,r.a.createElement("br",null),r.a.createElement("div",{className:"SettingsAcntBoxwrapper"},r.a.createElement("label",null,"AREA:"),r.a.createElement("br",null),r.a.createElement("input",{className:"grand",name:"selectedArea",value:this.state.selectedArea,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("div",{style:{marginLeft:"200px"}},r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE")))}}]),t}(n.Component),wa=Object(m.b)(function(e){return{areaData:e.area.areaData,areaDataList:e.area.areaDataList,areaListPageOpen:e.area.areaListPageOpen,isDeletePage:e.area.isDeletePage,isEditPage:e.area.isEditPage}},function(e){return{getAllArea:function(){return e(function(e){g.get("invoice/area/").then(function(t){console.log(t.data),e({type:"GET_ALL_AREA_DATA",areaDataList:t.data})})})},createAreaSuccess:function(t){return e({type:"CREATE_AREA_SUCCESS",areaData:t})},createAreaFail:function(t){return e({type:"CREATE_AREA_FAIL"})}}})(Na),La=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),r.a.createElement("div",{className:"SettingsAcntBox"},"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement(wa,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE")),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),ja=Object(m.b)(function(e){return console.log(e),{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(La),Ia=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.formData),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xs","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"AREA"),r.a.createElement("div",{className:"invoiceviewWrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"AREA NAME  :"),this.props.formData.area)),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"OK"),r.a.createElement(j.b,{to:"/create-area"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.editwindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(Re.a,{type:"submit",onClick:function(t,a){return e.props.deletewindow(t,e.props.formData.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(r.a.Component),Ta=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={formData:[],selectedArea:null},a.handleInputChange=function(e){e.preventDefault(),console.log(e.target.name,e.target.value);var t=e.target.name,n=e.target.value;a.setState(Object(B.a)({},t,n))},a.submitDataHandler=function(e){a.props.formData.area=a.state.selectedArea;var t={id:a.props.formData.id,area:a.state.selectedArea};console.log(t),a.props.editHandler(e,t),console.log(a.props.formData)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({formData:this.props.formData,selectedArea:this.props.formData.area})}},{key:"render",value:function(){return console.log(this.props.formData),console.log(this.props),console.log(this.state),r.a.createElement(_e.a,Object.assign({},this.props,{size:"xs","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.props.close}),r.a.createElement(_e.a.Header,{closeButton:!0}),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"ptag"},"Edit - Branch"),r.a.createElement("div",{className:"row-wrapper1"}),r.a.createElement("br",null),r.a.createElement("div",{className:"row-wrapper"},r.a.createElement("div",null,r.a.createElement("label",null,"AREA Name"),r.a.createElement("br",null),r.a.createElement("input",{className:"dates",name:"selectedArea",value:this.state.selectedArea,onChange:this.handleInputChange,required:"required"}))),r.a.createElement("br",null))),r.a.createElement(_e.a.Footer,null,r.a.createElement("button",{className:"OkBtn",onClick:this.props.close},"CANCEL"),r.a.createElement("button",{className:"cancelBtn",onClick:this.submitDataHandler},"SAVE"),r.a.createElement(j.b,{to:"/create-branch"},r.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(r.a.Component),Pa=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_e.a,{show:this.props.show,onHide:this.props.close},r.a.createElement(_e.a.Header,{closeButton:!0},r.a.createElement(_e.a.Title,null)),r.a.createElement(_e.a.Body,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Delete Area"),r.a.createElement("p",{style:{color:"red"}},"Are you Sure you want to delete this area ?"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"AREA NAME :"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.formData.area)))))),r.a.createElement(_e.a.Footer,null,r.a.createElement(Re.a,{variant:"danger",onClick:function(t){return e.props.deleteHandler(e.props.formData.id)}},"DELETE"),r.a.createElement(Re.a,{variant:"outline-warning",onClick:this.props.close},"CANCEL")))}}]),t}(r.a.Component),ka=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={areaList:[],isEdit:!1,isDelete:!1,deleteId:null,editId:null,isView:!1,editObject:[],perpage:10,curr_page:1,start_point:0,end_point:null,prevDisabled:!0,nxtDisabled:!1,firstDisabled:!0,lastDisabled:!1},a.loadAreas=function(){g.get("invoice/area/").then(function(e){a.setState({areaList:e.data})})},a.pagexClickHandler=function(e){console.log(e);var t=a.state.areaList.length,n=a.state.perpage,r=Math.ceil(t/n),l=(e-1)*n,c=e<r||t%n===0?l+n:l+t%n;1===e?a.setState({prevDisabled:!0,firstDisabled:!0,nxtDisabled:!1,lastDisabled:!1}):e===r?a.setState({nxtDisabled:!0,lastDisabled:!0,prevDisabled:!1,firstDisabled:!1}):a.setState({nxtDisabled:!1,prevDisabled:!1,firstDisabled:!1,lastDisabled:!1}),a.setState({curr_page:e,start_point:l,end_point:c})},a.previousClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(a.state.curr_page-1)},a.nextClickHandler=function(){var e=a.state.areaList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(a.state.curr_page+1)},a.firstClickHandler=function(){a.state.curr_page>1&&a.pagexClickHandler(1)},a.lastClickHandler=function(){var e=a.state.areaList.length,t=Math.ceil(e/a.state.perpage);a.state.curr_page<t&&a.pagexClickHandler(t)},a.viewWindowOpen=function(e){var t=a.state.areaList.filter(function(t){return t.id===e});console.log(t),console.log(t[0]),a.setState({isView:!0,viewObject:t[0]})},a.viewWindowClose=function(){a.setState({isView:!1,viewObject:{}})},a.deleteWindowOpen=function(e,t){e.preventDefault(),a.setState({isDelete:!0,deleteId:t})},a.deleteWindowClose=function(){a.setState({isDelete:!1})},a.editWindowOpen=function(e,t){e.preventDefault();var n=a.state.areaList.filter(function(e){return e.id===t});console.log(n),a.setState({isEdit:!0,editObject:n[0],editId:t}),console.log(n[0])},a.editWindowClose=function(){a.setState({isEdit:!1,editObject:{}})},a.viewModal=function(){return r.a.createElement(Ia,{show:a.state.isView,close:a.viewWindowClose,formData:a.state.viewObject,deletewindow:a.deleteWindowOpen,editwindow:a.editWindowOpen})},a.editModal=function(){return r.a.createElement(Ta,{show:a.state.isEdit,close:a.editWindowClose,formData:a.state.editObject,editId:a.state.editId,editHandler:a.objEditHandler})},a.deleteModal=function(){return r.a.createElement(Pa,{show:a.state.isDelete,close:a.deleteWindowClose,deleteHandler:a.deleteHandler,formData:a.state.viewObject})},a.objEditHandler=function(e,t){g.patch("/invoice/area/"+t.id+"/",t).then(function(e){console.log(e.data),a.setState({isEdit:!1}),a.viewWindowOpen(t.id)})},a.deleteHandler=function(e){var t=a.state.deleteId,n=a.state.areaList,r=a.state.areaList.filter(function(e){return e.id===t}),l=n.indexOf(r[0]);g.delete("invoice/area/"+t).then(function(e){n.splice(l,1),a.setState({areaList:n,isDelete:!1,isView:!1})})},a.spotViewModal=function(){return r.a.createElement(Ia,{show:a.props.areaListPageOpen,close:a.props.spotViewWindowClose,formData:a.props.areaData,editwindow:a.props.spotEditWindowOpen,deletewindow:a.props.spotDeleteWindowOpen})},a.spotEditModal=function(){return r.a.createElement(Ta,{show:a.props.isEditPage,close:a.props.spotEditWindowClose,formData:a.props.areaData,editId:a.state.editId,productList:a.state.productList,editHandler:a.spotObjEditHandler})},a.spotDeletModal=function(){return r.a.createElement(Pa,{show:a.props.isDeletePage,close:a.props.spotDeleteWindowClose,formData:a.props.areaData,deleteHandler:a.spotObjDeleteHandler})},a.spotObjDeleteHandler=function(e){console.log(e);var t=a.state.areaList,n=a.state.areaList.filter(function(t){return t.id===e});console.log(n);var r=t.indexOf(n[0]);console.log(r),g.delete("/invoice/area/"+e).then(function(e){console.log(e.data),t.splice(r,1),a.setState({areaList:t}),a.props.deleteAreaSuccess()}).catch(function(e){a.props.deleteAreaFail(e)})},a.spotObjEditHandler=function(e,t){var n=[];n.push(t),g.patch("/invoice/area/"+t.id+"/",t).then(function(e){a.props.editAreaSuccess(e.data);var t=a.state.areaList.map(function(e){return n.find(function(t){return t.id===e.id})||e});a.setState({areaList:t})}).catch(function(e){a.props.editAreaFail(e)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({end_point:this.state.start_point+this.state.perpage}),this.loadAreas()}},{key:"render",value:function(){var e=this;console.log(this.state),console.log(this.props);var t=this.state.areaList.slice(this.state.start_point,this.state.end_point).map(function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a+e.state.start_point+1),r.a.createElement("td",null,t.area),r.a.createElement("td",null,r.a.createElement("i",{onClick:function(){return e.viewWindowOpen(t.id)},className:"w3-margin-left fa fa-eye"})))});return r.a.createElement("div",null,this.state.isView?this.viewModal():null,this.state.isDelete?this.deleteModal():null,this.state.isEdit?this.editModal():null,this.props.areaListPageOpen?this.spotViewModal():null,this.props.isEditPage?this.spotEditModal():null,this.props.isDeletePage?this.spotDeletModal():null,"area list",r.a.createElement("table",{className:"SalesInvoiceTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"SL NO"),r.a.createElement("th",null,"AREA"),r.a.createElement("th",null,"VIEW"))),r.a.createElement("tbody",null,this.state.areaList.length>0?t:null)),r.a.createElement("br",null),r.a.createElement("div",{className:"pagination"},r.a.createElement(Xe,{item_count:this.state.areaList.length,perpage_count:this.state.perpage,page:this.state.curr_page,click:this.pagexClickHandler,prevClick:this.previousClickHandler,nxtClick:this.nextClickHandler,firstClick:this.firstClickHandler,lastClick:this.lastClickHandler,nxtDisabled:this.state.nxtDisabled,prevDisabled:this.state.prevDisabled,firstDisabled:this.state.firstDisabled,lastDisabled:this.state.lastDisabled})))}}]),t}(n.Component),Ha=Object(m.b)(function(e){return{areaData:e.area.areaData,areaListPageOpen:e.area.areaListPageOpen,isDeletePage:e.area.isDeletePage,isEditPage:e.area.isEditPage}},function(e){return{spotViewWindowClose:function(){return e({type:"AREA_LIST_PAGE_CLOSE"})},spotEditWindowOpen:function(){return e({type:"AREA_EDIT_WINDOW_OPEN"})},spotEditWindowClose:function(){return e({type:"AREA_EDIT_WINDOW_CLOSE"})},spotDeleteWindowOpen:function(){return e({type:"AREA_DELETE_WINDOW_OPEN"})},spotDeleteWindowClose:function(){return e({type:"AREA_DELETE_WINDOW_CLOSE"})},deleteAreaSuccess:function(){return e({type:"AREA_DELETE_SUCCESS"})},deleteAreaFail:function(t){return e({type:"AREA_DELETE_FAIL"})},editAreaSuccess:function(t){return e({type:"AREA_EDIT_SUCCESS"})},editAreaFail:function(t){return e({type:"AREA_EDIT_FAIL"})}}})(ka),Ra=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"saleswrapper"},r.a.createElement("div",null,r.a.createElement(Le,null)),r.a.createElement("div",{className:"CreateInvoiceBox"},"FULL_ACCESS"===this.props.currentUserData.user_choice?r.a.createElement(Ha,null):r.a.createElement("div",null,"YOU HAVE NO PERMISSION TO ACCESS THIS PAGE")),r.a.createElement("div",null,r.a.createElement(q,null)))}}]),t}(n.Component),xa=Object(m.b)(function(e){return console.log(e),{currentUserData:e.currentUser.userData}},function(e){return{currentUser:function(){return e(D())}}})(Ra),Ua=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup(),this.props.currentUser()}},{key:"render",value:function(){console.log(this.props.user_choice),console.log(this.props);this.props.loginToken;var e=r.a.createElement("div",null,r.a.createElement(M,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:V}),r.a.createElement(p.b,{path:"/home",exact:!0,component:z}),r.a.createElement(p.b,{path:"/sales",exact:!0,component:Z}),r.a.createElement(p.b,{path:"/accounts",exact:!0,component:le}),r.a.createElement(p.b,{path:"/reports",exact:!0,component:Oe}),r.a.createElement(p.b,{path:"/purchase",exact:!0,component:te}),r.a.createElement(p.b,{path:"/settings",exact:!0,component:Ie}),r.a.createElement(p.b,{path:"/create-invoice",exact:!0,component:Je}),r.a.createElement(p.b,{path:"/sales-invoices",exact:!0,component:Ze}),r.a.createElement(p.b,{path:"/create-reciept",exact:!0,component:at}),r.a.createElement(p.b,{path:"/customer-reciepts",exact:!0,component:dt}),r.a.createElement(p.b,{path:"/expense-list",exact:!0,component:Ct}),r.a.createElement(p.b,{path:"/Customers",exact:!0,component:At}),r.a.createElement(p.b,{path:"/logout",component:G}),r.a.createElement(p.b,{path:"/create-expense",exact:!0,component:Lt}),r.a.createElement(p.b,{path:"/create-partner",exact:!0,component:Pt}),r.a.createElement(p.b,{path:"/partners",exact:!0,component:Mt}),r.a.createElement(p.b,{path:"/create-products",exact:!0,component:Yt}),r.a.createElement(p.b,{path:"/products",exact:!0,component:ea}),r.a.createElement(p.b,{path:"/create-productCategory",exact:!0,component:ra}),r.a.createElement(p.b,{path:"/productCategorys",exact:!0,component:Ea}),r.a.createElement(p.b,{path:"/create-branch",exact:!0,component:ba}),r.a.createElement(p.b,{path:"/branches",exact:!0,component:Sa}),r.a.createElement(p.b,{path:"/create-area",exact:!0,component:ja}),r.a.createElement(p.b,{path:"/areas",exact:!0,component:xa}))));return null===this.props.loginToken&&(e=r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:V}))),r.a.createElement("div",{className:"App"},r.a.createElement(r.a.Fragment,null,e))}}]),t}(n.Component),Wa=Object(p.f)(Object(m.b)(function(e){return{loginToken:e.login.token,user_choice:e.login.user_choice,currentUserData:e.currentUser.userData}},function(e){return{onTryAutoSignup:function(){return e(function(e){var t=localStorage.getItem("token");console.log(t),t?new Date(localStorage.getItem("expirationTime"))<=new Date?e(v()):(localStorage.getItem("userId"),e(b(t))):e(v())})},onRedirect:function(){return e({type:"REDIRECT"})},currentUser:function(){return e(D())}}})(Ua));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ma=a(39),Ba=a(140),Fa=function(e,t){return Object(C.a)({},e,t)},Va={token:null,id:null,error:null,loading:!1,user_choice:null},Ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_START":return function(e,t){return Fa(e,{error:null,loading:!0})}(e);case"LOGIN_SUCCES":return function(e,t){return Fa(e,{token:t.token,error:null,loading:!1,id:t.id})}(e,t);case"LOGIN_FAIL":return function(e,t){return Fa(e,{error:t.error,loading:!1})}(e,t);case"LOGOUT":return{token:null,id:null};case"GET_USER_CHOICE":return function(e,t){return Fa(e,{user_choice:t.user_choice})}(e,t);default:return e}},Ga={token:null,id:null,error:null,loading:!1},Ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGOUT":return function(e,t){return Fa(e,{token:null,id:null})}(e);default:return e}},qa={token:null,id:null,error:null,loading:!1},Xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return function(e,t){return Fa(e,{error:null,loading:!0})}(e);case"AUTH_SUCCES":return function(e,t){return Fa(e,{id:t.id,name:t.name,email:t.email,error:null,loading:!1})}(e,t);case"AUTH_FAIL":return function(e,t){return Fa(e,{error:t.error,loading:!1})}(e,t);default:return e}},za={userData:[],loading:!1},Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_USER_START":return function(e,t){return Fa(e,{loading:!0})}(e);case"CURRENT_USER_SUCCESS":return function(e,t){return Fa(e,{userData:t.userData,loading:!1})}(e,t);case"CURRENT_USER_FAIL":return function(e,t){return Fa(e,{loading:!1})}(e);default:return e}},Ka={salesPageOpen:!1,isDeletePage:!1,isEditPage:!1,invoiceData:[]},$a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_INVOICE_SUCCESS":return function(e,t){return Fa(e,{invoiceData:t.invoiceData,salesPageOpen:!0})}(e,t);case"CREATE_INVOICE_FAIL":case"SALES_PAGE_CLOSE":return function(e,t){return Fa(e,{salesPageOpen:!1})}(e);case"DELETE_WINDOW_OPEN":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"DELETE_WINDOW_CLOSE":return function(e,t){return Fa(e,{isDeletePage:!1})}(e);case"DELETE_INVOICE_SUCCESS":return function(e,t){return Fa(e,{isDeletePage:!1,salesPageOpen:!1})}(e);case"DELETE_INVOICE_FAIL":return function(e,t){return Fa(e,{isDeletePage:!0,salesPageOpen:!0})}(e);case"EDIT_WINDOW_OPEN":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"EDIT_WINDOW_CLOSE":case"EDIT_INVOICE_SUCCESS":return function(e,t){return Fa(e,{isEditPage:!1})}(e);case"EDIT_INVOICE_FAIL":return function(e,t){return Fa(e,{isEditPage:!0})}(e);default:return e}},Za={defaultAccount:[],loading:!1,account:[],accountLoading:!1},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEFAULT_ACCOUNT_START":return function(e,t){return Fa(e,{loading:!0})}(e);case"DEFAULT_ACCOUNT_SUCCESS":return function(e,t){return Fa(e,{defaultAccount:t.defaultAccount,loading:!1})}(e,t);case"DEFAULT_ACCOUNT_FAIL":return function(e,t){return Fa(e,{loading:!1})}(e);case"ACCOUNTS_START":return function(e,t){return Fa(e,{accountLoading:!0})}(e);case"ACCOUNTS_SUCCESS":return function(e,t){return Fa(e,{account:t.account,accountLoading:!1})}(e,t);case"ACCOUNTS_FAIL":return function(e,t){return Fa(e,{accountLoading:!1})}(e);default:return e}},tn={recieptData:[],customerRecieptPageOpen:!1,isDeletePage:!1,isEditPage:!1,debitJrnlItem:[],creditJrnlItem:[]},an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CUSTOMER_RECIEPT_SUCCESS":return function(e,t){console.log(t.recieptData);var a=t.recieptData.journal_entry.journal_item.filter(function(e){return e.credit_amount>0}),n=t.recieptData.journal_entry.journal_item.filter(function(e){return e.debit_amount>0});return console.log(a),console.log(n),Fa(e,{recieptData:t.recieptData,creditJrnlItem:a,debitJrnlItem:n,customerRecieptPageOpen:!0})}(e,t);case"CREATE_CUSTOMER_RECIEPT_FAIL":return function(e,t){return Fa(e)}(e);case"CUSTOMER_RECIEPT_PAGE_CLOSE":return function(e,t){return Fa(e,{customerRecieptPageOpen:!1})}(e);case"CUSTOMER_RECIEPT_DELETE_WINDOW_OPEN":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"CUSTOMER_RECIEPT_DELETE_WINDOW_CLOSE":return function(e,t){return Fa(e,{isDeletePage:!1})}(e);case"CUSTOMER_RECIEPT_EDIT_WINDOW_OPEN":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"CUSTOMER_RECIEPT_EDIT_WINDOW_CLOSE":case"EDIT_CUSTOMER_RECIEPT_SUCCESS":return function(e,t){return Fa(e,{isEditPage:!1})}(e);case"EDIT_CUSTOMER_RECIEPT_FAIL":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"CUSTOMER_RECIEPT_DELETE_SUCCESS":return function(e,t){return Fa(e,{isDeletePage:!1,isEditPage:!1,customerRecieptPageOpen:!1})}(e);case"CUSTOMER_RECIEPT_DELETE_FAIL":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);default:return e}},nn={expenseData:[],expenseListPageOpen:!1,isDeletePage:!1,isEditPage:!1},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_EXPENSE_SUCCESS":return function(e,t){return Fa(e,{expenseData:t.expenseData,expenseListPageOpen:!0})}(e,t);case"CREATE_EXPENSE_FAIL":return function(e,t){return Fa(e)}(e);case"EXPENSES_LIST_PAGE_CLOSE":return function(e,t){return Fa(e,{expenseListPageOpen:!1})}(e);case"EXPENSE_DELETE_WINDOW_OPEN":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"EXPENSE_DELETE_WINDOW_CLOSE":return function(e,t){return Fa(e,{isDeletePage:!1})}(e);case"EXPENSE_EDIT_WINDOW_OPEN":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"EXPENSE_EDIT_WINDOW_CLOSE":case"EXPENSE_EDIT_SUCCESS":return function(e,t){return Fa(e,{isEditPage:!1})}(e);case"EXPENSE_EDIT_FAIL":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"EXPENSE_DELETE_SUCCESS":return function(e,t){return Fa(e,{isDeletePage:!1,isEditPage:!1,expenseListPageOpen:!1})}(e);case"EXPENSE_DELETE_FAIL":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);default:return e}},ln={partnerData:[],partnerListPageOpen:!1,isDeletePage:!1,isEditPage:!1},cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PARTNER_SUCCESS":return function(e,t){return Fa(e,{partnerData:t.partnerData,partnerListPageOpen:!0})}(e,t);case"CREATE_PARTNER_FAIL":return function(e,t){return Fa(e)}(e);case"PARTNERS_LIST_PAGE_CLOSE":return function(e,t){return Fa(e,{partnerListPageOpen:!1})}(e);case"PARTNER_DELETE_WINDOW_OPEN":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"PARTNER_DELETE_WINDOW_CLOSE":return function(e,t){return Fa(e,{isDeletePage:!1})}(e);case"PARTNER_EDIT_WINDOW_OPEN":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"PARTNER_EDIT_WINDOW_CLOSE":case"PARTNER_EDIT_SUCCESS":return function(e,t){return Fa(e,{isEditPage:!1})}(e);case"PARTNER_EDIT_FAIL":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"PARTNER_DELETE_SUCCESS":return function(e,t){return Fa(e,{isDeletePage:!1,isEditPage:!1,partnerListPageOpen:!1})}(e);case"PARTNER_DELETE_FAIL":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);default:return e}},sn={productData:[],productListPageOpen:!1,isDeletePage:!1,isEditPage:!1,productCategoryData:[]},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PRODUCT_SUCCESS":return function(e,t){return Fa(e,{productData:t.productData,productListPageOpen:!0})}(e,t);case"CREATE_PRODUCT_FAIL":return function(e,t){return Fa(e)}(e);case"PRODUCT_LIST_PAGE_CLOSE":return function(e,t){return Fa(e,{productListPageOpen:!1})}(e);case"PRODUCT_DELETE_WINDOW_OPEN":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"PRODUCT_DELETE_WINDOW_CLOSE":return function(e,t){return Fa(e,{isDeletePage:!1})}(e);case"PRODUCT_EDIT_WINDOW_OPEN":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"PRODUCT_EDIT_WINDOW_CLOSE":case"PRODUCT_EDIT_SUCCESS":return function(e,t){return Fa(e,{isEditPage:!1})}(e);case"PRODUCT_EDIT_FAIL":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"PRODUCT_DELETE_SUCCESS":return function(e,t){return Fa(e,{isDeletePage:!1,isEditPage:!1,productListPageOpen:!1})}(e);case"PRODUCT_DELETE_FAIL":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"GET_ALL_PRODUCT_CAT_SUCCESS":return function(e,t){return Fa(e,{productCategoryData:t.productCategoryData,productListPageOpen:!0})}(e,t);default:return e}},un={productCategoryData:[],productCategoryDataList:[],productCategoryListPageOpen:!1,isDeletePage:!1,isEditPage:!1},dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PRODUCT_CATEGORY_SUCCESS":return function(e,t){return Fa(e,{productCategoryData:t.productCategoryData,productCategoryListPageOpen:!0})}(e,t);case"CREATE_PRODUCT_CATEGORY_FAIL":return function(e,t){return Fa(e)}(e);case"PRODUCT_CATEGORY_LIST_PAGE_CLOSE":return function(e,t){return Fa(e,{productCategoryListPageOpen:!1})}(e);case"PRODUCT_CATEGORY_DELETE_WINDOW_OPEN":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"PRODUCT_CATEGORY_DELETE_WINDOW_CLOSE":return function(e,t){return Fa(e,{isDeletePage:!1})}(e);case"PRODUCT_CATEGORY_EDIT_WINDOW_OPEN":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"PRODUCT_CATEGORY_EDIT_WINDOW_CLOSE":case"PRODUCT_CATEGORY_EDIT_SUCCESS":return function(e,t){return Fa(e,{isEditPage:!1})}(e);case"PRODUCT_CATEGORY_EDIT_FAIL":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"PRODUCT_CATEGORY_DELETE_SUCCESS":return function(e,t){return Fa(e,{isDeletePage:!1,isEditPage:!1,productCategoryListPageOpen:!1})}(e);case"PRODUCT_CATEGORY_DELETE_FAIL":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"GET_ALL_PRODUCT_CATEGORY_DATA":return function(e,t){return Fa(e,{productCategoryDataList:t.productCategoryDataList})}(e,t);default:return e}},pn={branchData:[],branchDataList:[],branchListPageOpen:!1,isDeletePage:!1,isEditPage:!1},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BRANCH_SUCCESS":return function(e,t){return Fa(e,{branchData:t.branchData,branchListPageOpen:!0})}(e,t);case"CREATE_BRANCH_FAIL":return function(e,t){return Fa(e)}(e);case"BRANCH_LIST_PAGE_CLOSE":return function(e,t){return Fa(e,{branchListPageOpen:!1})}(e);case"BRANCH_DELETE_WINDOW_OPEN":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"BRANCH_DELETE_WINDOW_CLOSE":return function(e,t){return Fa(e,{isDeletePage:!1})}(e);case"BRANCH_EDIT_WINDOW_OPEN":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"BRANCH_EDIT_WINDOW_CLOSE":case"BRANCH_EDIT_SUCCESS":return function(e,t){return Fa(e,{isEditPage:!1})}(e);case"BRANCH_EDIT_FAIL":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"BRANCH_DELETE_SUCCESS":return function(e,t){return Fa(e,{isDeletePage:!1,isEditPage:!1,branchListPageOpen:!1})}(e);case"BRANCH_DELETE_FAIL":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"GET_ALL_BRANCH_DATA":return function(e,t){return Fa(e,{branchDataList:t.branchDataList})}(e,t);default:return e}},En={areaData:[],areaDataList:[],areaListPageOpen:!1,isDeletePage:!1,isEditPage:!1},hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_AREA_SUCCESS":return function(e,t){return Fa(e,{areaData:t.areaData,areaListPageOpen:!0})}(e,t);case"CREATE_AREA_FAIL":return function(e,t){return Fa(e)}(e);case"AREA_LIST_PAGE_CLOSE":return function(e,t){return Fa(e,{areaListPageOpen:!1})}(e);case"AREA_DELETE_WINDOW_OPEN":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"AREA_DELETE_WINDOW_CLOSE":return function(e,t){return Fa(e,{isDeletePage:!1})}(e);case"AREA_EDIT_WINDOW_OPEN":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"AREA_EDIT_WINDOW_CLOSE":case"AREA_EDIT_SUCCESS":return function(e,t){return Fa(e,{isEditPage:!1})}(e);case"AREA_EDIT_FAIL":return function(e,t){return Fa(e,{isEditPage:!0})}(e);case"AREA_DELETE_SUCCESS":return function(e,t){return Fa(e,{isDeletePage:!1,isEditPage:!1,areaListPageOpen:!1})}(e);case"AREA_DELETE_FAIL":return function(e,t){return Fa(e,{isDeletePage:!0})}(e);case"GET_ALL_AREA_DATA":return function(e,t){return Fa(e,{areaDataList:t.areaDataList})}(e,t);default:return e}},fn=Object(Ma.c)({login:Ya,logout:Ja,auth:Xa,currentUser:Qa,salesInvoice:$a,account:en,reciept:an,expense:rn,partner:cn,product:on,productCategory:dn,branch:mn,area:hn}),gn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ma.d,bn=Object(Ma.e)(fn,gn(Object(Ma.a)(Ba.a))),vn=r.a.createElement(m.a,{store:bn},r.a.createElement(j.a,null,r.a.createElement(Wa,null)));c.a.render(vn,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},79:function(e,t,a){},80:function(e,t,a){e.exports=a.p+"static/media/search.0e7feb70.svg"},81:function(e,t,a){e.exports=a.p+"static/media/user.56902ef6.svg"},82:function(e,t,a){e.exports=a.p+"static/media/settings.0844b197.svg"},83:function(e,t,a){e.exports=a.p+"static/media/alarm.1f7bbd83.svg"},95:function(e,t,a){}},[[141,1,2]]]);
//# sourceMappingURL=main.b7a5b442.chunk.js.map